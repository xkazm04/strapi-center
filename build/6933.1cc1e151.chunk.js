(self.webpackChunkstrapi=self.webpackChunkstrapi||[]).push([[6933],{95423:(J,M,e)=>{var t={"./ar.json":[53803,7958],"./cs.json":[67278,7519],"./de.json":[52961,6901],"./dk.json":[72259,7898],"./en.json":[49898,320],"./es.json":[86702,8367],"./fr.json":[10542,8006],"./he.json":[51574,830],"./hu.json":[61919,5894],"./id.json":[1354,8897],"./it.json":[57442,6817],"./ja.json":[72185,1312],"./ko.json":[92975,1377],"./ms.json":[16427,3025],"./nl.json":[35566,2671],"./no.json":[39217,562],"./pl.json":[2506,7846],"./pt-BR.json":[61913,9647],"./pt.json":[57786,3340],"./ru.json":[76711,123],"./sk.json":[19043,606],"./sv.json":[42862,9303],"./th.json":[15364,749],"./tr.json":[49394,395],"./uk.json":[54324,7403],"./vi.json":[93473,3278],"./zh-Hans.json":[23407,2553],"./zh.json":[70326,1011]};function p(i){if(!e.o(t,i))return Promise.resolve().then(()=>{var S=new Error("Cannot find module '"+i+"'");throw S.code="MODULE_NOT_FOUND",S});var T=t[i],I=T[0];return e.e(T[1]).then(()=>e.t(I,19))}p.keys=()=>Object.keys(t),p.id=95423,J.exports=p},48858:(J,M,e)=>{"use strict";e.d(M,{Z:()=>It});var t=e(63600),p=e(68547),i=e(53547),T=e(97132),I=e(45697),S=e.n(I),N=e(94117),ee=e(9524),ie=e(80117),te=e(40264),D=e(56156),q=e(64459),H=e(99136),R=e(33483),B=e(80831),b=e(83137),z=e(87173);const Q=({onSubmit:re,schema:at})=>{const{formatMessage:pe}=(0,T.useIntl)();return i.createElement(b.ZP,null,i.createElement(ie.Main,null,i.createElement(b.bU,null,i.createElement(B.Formik,{enableReinitialize:!0,initialValues:{email:""},onSubmit:re,validationSchema:at,validateOnChange:!1},({values:mt,errors:Te,handleChange:ft})=>i.createElement(p.Form,{noValidate:!0},i.createElement(b.sg,null,i.createElement(z.Z,null),i.createElement(N.Box,{paddingTop:6,paddingBottom:7},i.createElement(R.Typography,{as:"h1",variant:"alpha"},pe({id:"Auth.form.button.password-recovery",defaultMessage:"Password Recovery"}))),Te.errorMessage&&i.createElement(R.Typography,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},pe({id:Te.errorMessage,defaultMessage:"An error occurred"}))),i.createElement(ee.Stack,{spacing:6},i.createElement(H.TextInput,{error:Te.email?pe({id:Te.email,defaultMessage:"This email is invalid."}):"",value:mt.email,onChange:ft,label:pe({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:pe({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),i.createElement(q.Button,{type:"submit",fullWidth:!0},pe({id:"Auth.form.button.forgot-password",defaultMessage:"Send Email"})))))),i.createElement(te.Flex,{justifyContent:"center"},i.createElement(N.Box,{paddingTop:4},i.createElement(D.Link,{to:"/auth/login"},pe({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};Q.defaultProps={onSubmit:re=>re.preventDefault()},Q.propTypes={onSubmit:S().func,schema:S().shape({type:S().string.isRequired}).isRequired};const se=Q,w=()=>{const{formatMessage:re}=(0,T.useIntl)();return i.createElement(b.ZP,null,i.createElement(ie.Main,null,i.createElement(b.bU,null,i.createElement(b.sg,null,i.createElement(z.Z,null),i.createElement(N.Box,{paddingTop:6,paddingBottom:7},i.createElement(R.Typography,{as:"h1",variant:"alpha"},re({id:"app.containers.AuthPage.ForgotPasswordSuccess.title",defaultMessage:"Email sent"}))),i.createElement(R.Typography,null,re({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.email",defaultMessage:"It can take a few minutes to receive your password recovery link."})),i.createElement(N.Box,{paddingTop:4},i.createElement(R.Typography,null,re({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.contact-admin",defaultMessage:"If you do not receive this link, please contact your administrator."}))))),i.createElement(te.Flex,{justifyContent:"center"},i.createElement(N.Box,{paddingTop:4},i.createElement(D.Link,{to:"/auth/login"},re({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))},st=()=>{const{formatMessage:re}=(0,T.useIntl)(),pe=(0,p.useQuery)().get("info")||re({id:"Auth.components.Oops.text",defaultMessage:"Your account has been suspended."});return i.createElement(b.ZP,null,i.createElement(ie.Main,null,i.createElement(b.bU,null,i.createElement(b.sg,null,i.createElement(z.Z,null),i.createElement(N.Box,{paddingTop:6,paddingBottom:7},i.createElement(R.Typography,{as:"h1",variant:"alpha"},re({id:"Auth.components.Oops.title",defaultMessage:"Oops..."}))),i.createElement(R.Typography,null,pe),i.createElement(N.Box,{paddingTop:4},i.createElement(R.Typography,null,re({id:"Auth.components.Oops.text.admin",defaultMessage:"If this is a mistake, please contact your administrator."}))))),i.createElement(te.Flex,{justifyContent:"center"},i.createElement(N.Box,{paddingTop:4},i.createElement(D.Link,{to:"/auth/login"},re({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))};var l=e(16384),ot=e(27361),ze=e.n(ot),Ve=e(57557),We=e.n(Ve),ut=e(43499),me=e(39272),Oe=e(52973),ue=e.n(Oe),fe=e(31023),ne=e.n(fe),ce=e(49656),k=e(9669),U=e.n(k),_=e(11145),we=(re,at,pe)=>new Promise((mt,Te)=>{var ft=Ie=>{try{Fe(pe.next(Ie))}catch(Ye){Te(Ye)}},xe=Ie=>{try{Fe(pe.throw(Ie))}catch(Ye){Te(Ye)}},Fe=Ie=>Ie.done?mt(Ie.value):Promise.resolve(Ie.value).then(ft,xe);Fe((pe=pe.apply(re,at)).next())});const Le=(0,l.default)(N.Box)`
  text-align: center;
`,ke=l.default.a`
  color: ${({theme:re})=>re.colors.primary600};
`,Ee=(0,l.default)(H.TextInput)`
  ::-ms-reveal {
    display: none;
  }
`,X=({authType:re,fieldsToDisable:at,noSignin:pe,onSubmit:mt,schema:Te})=>{const ft=(0,p.useNotification)(),{push:xe}=(0,ce.useHistory)(),[Fe,Ie]=(0,i.useState)(!1),[Ye,Rt]=(0,i.useState)(!1),[dt,us]=(0,i.useState)(0),[_t,Kt]=(0,i.useState)({}),{trackUsage:Bt}=(0,p.useTracking)(),{formatMessage:Re}=(0,T.useIntl)(),gt=(0,p.useQuery)().get("registrationToken");return(0,i.useEffect)(()=>{gt&&we(void 0,null,function*(){try{const{data:{data:Ae}}=yield U().get(`${strapi.backendURL}/admin/registration-info?registrationToken=${gt}`);Ae&&Kt(Ae)}catch(Ae){const Qe=ze()(Ae,["response","data","message"],"An error occurred");ft({type:"warning",message:Qe}),xe(`/auth/oops?info=${encodeURIComponent(Qe)}`)}})},[gt]),i.createElement(b.ZP,null,i.createElement(b.bU,null,i.createElement(B.Formik,{enableReinitialize:!0,initialValues:{firstname:_t.firstname||"",lastname:_t.lastname||"",email:_t.email||"",password:"",confirmPassword:"",registrationToken:gt||void 0,news:!1},onSubmit:(Ze,Ae)=>we(void 0,null,function*(){try{yield Te.validate(Ze,{abortEarly:!1}),dt>0&&re==="register-admin"&&Bt("didSubmitWithErrorsFirstAdmin",{count:dt.toString()}),mt(gt?{userInfo:We()(Ze,["registrationToken"]),registrationToken:gt}:Ze,Ae)}catch(Qe){const Ne=(0,p.getYupInnerErrors)(Qe);us(dt+1),Ae.setErrors(Ne)}}),validateOnChange:!1},({values:Ze,errors:Ae,handleChange:Qe})=>i.createElement(p.Form,{noValidate:!0},i.createElement(ie.Main,null,i.createElement(b.sg,null,i.createElement(z.Z,null),i.createElement(N.Box,{paddingTop:6,paddingBottom:1},i.createElement(R.Typography,{as:"h1",variant:"alpha"},Re({id:"Auth.form.welcome.title",defaultMessage:"Welcome to Strapi!"}))),i.createElement(Le,{paddingBottom:7},i.createElement(R.Typography,{variant:"epsilon",textColor:"neutral600"},Re({id:"Auth.form.register.subtitle",defaultMessage:"Credentials are only used to authenticate in Strapi. All saved data will be stored in your database."})))),i.createElement(ee.Stack,{spacing:6},i.createElement(me.Grid,{gap:4},i.createElement(me.GridItem,{col:6},i.createElement(H.TextInput,{name:"firstname",required:!0,value:Ze.firstname,error:Ae.firstname?Re(Ae.firstname):void 0,onChange:Qe,label:Re({id:"Auth.form.firstname.label",defaultMessage:"Firstname"})})),i.createElement(me.GridItem,{col:6},i.createElement(H.TextInput,{name:"lastname",value:Ze.lastname,onChange:Qe,label:Re({id:"Auth.form.lastname.label",defaultMessage:"Lastname"})}))),i.createElement(H.TextInput,{name:"email",disabled:at.includes("email"),value:Ze.email,onChange:Qe,error:Ae.email?Re(Ae.email):void 0,required:!0,label:Re({id:"Auth.form.email.label",defaultMessage:"Email"}),type:"email"}),i.createElement(Ee,{name:"password",onChange:Qe,value:Ze.password,error:Ae.password?Re(Ae.password):void 0,endAction:i.createElement(_.Z,{onClick:Ne=>{Ne.preventDefault(),Ie(At=>!At)},label:Re(Fe?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},Fe?i.createElement(ne(),null):i.createElement(ue(),null)),hint:Re({id:"Auth.form.password.hint",defaultMessage:"Must be at least 8 characters, 1 uppercase, 1 lowercase & 1 number"}),required:!0,label:Re({id:"global.password",defaultMessage:"Password"}),type:Fe?"text":"password"}),i.createElement(Ee,{name:"confirmPassword",onChange:Qe,value:Ze.confirmPassword,error:Ae.confirmPassword?Re(Ae.confirmPassword):void 0,endAction:i.createElement(_.Z,{onClick:Ne=>{Ne.preventDefault(),Rt(At=>!At)},label:Re(Ye?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},Ye?i.createElement(ne(),null):i.createElement(ue(),null)),required:!0,label:Re({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirmation Password"}),type:Ye?"text":"password"}),i.createElement(ut.Checkbox,{onValueChange:Ne=>{Qe({target:{value:Ne,name:"news"}})},value:Ze.news,name:"news","aria-label":"news"},Re({id:"Auth.form.register.news.label",defaultMessage:"Keep me updated about new features & upcoming improvements (by doing this you accept the {terms} and the {policy})."},{terms:i.createElement(ke,{target:"_blank",href:"https://strapi.io/terms",rel:"noreferrer"},Re({id:"Auth.privacy-policy-agreement.terms",defaultMessage:"terms"})),policy:i.createElement(ke,{target:"_blank",href:"https://strapi.io/privacy",rel:"noreferrer"},Re({id:"Auth.privacy-policy-agreement.policy",defaultMessage:"policy"}))})),i.createElement(q.Button,{fullWidth:!0,size:"L",type:"submit"},Re({id:"Auth.form.button.register",defaultMessage:"Let's start"})))))),!pe&&i.createElement(N.Box,{paddingTop:4},i.createElement(te.Flex,{justifyContent:"center"},i.createElement(D.Link,{label:"Auth.link.signin",to:"/auth/login"},Re({id:"Auth.link.signin.account",defaultMessage:"Already have an account?"}))))))};X.defaultProps={fieldsToDisable:[],noSignin:!1,onSubmit:re=>re.preventDefault()},X.propTypes={authType:S().string.isRequired,fieldsToDisable:S().array,noSignin:S().bool,onSubmit:S().func,schema:S().shape({validate:S().func.isRequired,type:S().string.isRequired}).isRequired};const ge=X,Be=(0,l.default)(H.TextInput)`
  ::-ms-reveal {
    display: none;
  }
`,be=({onSubmit:re,schema:at})=>{const[pe,mt]=(0,i.useState)(!1),[Te,ft]=(0,i.useState)(!1),{formatMessage:xe}=(0,T.useIntl)();return i.createElement(b.ZP,null,i.createElement(ie.Main,null,i.createElement(b.bU,null,i.createElement(B.Formik,{enableReinitialize:!0,initialValues:{password:"",confirmPassword:""},onSubmit:re,validationSchema:at,validateOnChange:!1},({values:Fe,errors:Ie,handleChange:Ye})=>i.createElement(p.Form,{noValidate:!0},i.createElement(b.sg,null,i.createElement(z.Z,null),i.createElement(N.Box,{paddingTop:6,paddingBottom:7},i.createElement(R.Typography,{as:"h1",variant:"alpha"},xe({id:"global.reset-password",defaultMessage:"Reset password"}))),Ie.errorMessage&&i.createElement(R.Typography,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},xe({id:Ie.errorMessage,defaultMessage:"An error occurred"}))),i.createElement(ee.Stack,{spacing:6},i.createElement(Be,{name:"password",onChange:Ye,value:Fe.password,error:Ie.password?xe({id:Ie.password,defaultMessage:"This field is required."}):void 0,endAction:i.createElement(_.Z,{onClick:Rt=>{Rt.preventDefault(),mt(dt=>!dt)},label:xe(pe?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},pe?i.createElement(ne(),null):i.createElement(ue(),null)),hint:xe({id:"Auth.form.password.hint",defaultMessage:"Password must contain at least 8 characters, 1 uppercase, 1 lowercase and 1 number"}),required:!0,label:xe({id:"global.password",defaultMessage:"Password"}),type:pe?"text":"password"}),i.createElement(Be,{name:"confirmPassword",onChange:Ye,value:Fe.confirmPassword,error:Ie.confirmPassword?xe({id:Ie.confirmPassword,defaultMessage:"This value is required."}):void 0,endAction:i.createElement(_.Z,{onClick:Rt=>{Rt.preventDefault(),ft(dt=>!dt)},label:xe(pe?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},Te?i.createElement(ne(),null):i.createElement(ue(),null)),required:!0,label:xe({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirmation Password"}),type:Te?"text":"password"}),i.createElement(q.Button,{fullwidth:!0,type:"submit"},xe({id:"global.change-password",defaultMessage:"Change password"})))))),i.createElement(te.Flex,{justifyContent:"center"},i.createElement(N.Box,{paddingTop:4},i.createElement(D.Link,{to:"/auth/login"},xe({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};be.defaultProps={onSubmit:re=>re.preventDefault()},be.propTypes={onSubmit:S().func,schema:S().shape({type:S().string.isRequired}).isRequired};const Ot=be;var Tt=function(){return window&&window.strapi&&window.strapi.isEE?e(7857).Z:e(20270).Z}(),bt={"forgot-password":{Component:se,endPoint:"forgot-password",fieldsToDisable:[],fieldsToOmit:[],schema:t.Ry().shape({email:t.Z_().email(p.translatedErrors.email).required(p.translatedErrors.required)}),inputsPrefix:""},"forgot-password-success":{Component:w,endPoint:"",fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},login:{Component:Tt,endPoint:"login",fieldsToDisable:[],fieldsToOmit:["rememberMe"],schema:t.Ry().shape({email:t.Z_().email(p.translatedErrors.email).required(p.translatedErrors.required),password:t.Z_().required(p.translatedErrors.required),rememberMe:t.Xg().nullable()}),inputsPrefix:""},oops:{Component:st,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},register:{Component:ge,endPoint:"register",fieldsToDisable:["email"],fieldsToOmit:["userInfo.confirmPassword","userInfo.news","userInfo.email"],schema:t.Ry().shape({firstname:t.Z_().required(p.translatedErrors.required),lastname:t.Z_(),password:t.Z_().min(8,p.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(p.translatedErrors.required),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"components.Input.error.password.noMatch").required(p.translatedErrors.required),registrationToken:t.Z_().required(p.translatedErrors.required)}),inputsPrefix:"userInfo."},"register-admin":{Component:ge,endPoint:"register-admin",noSignin:!0,fieldsToDisable:[],fieldsToOmit:["confirmPassword","news"],schema:t.Ry().shape({firstname:t.Z_().required(p.translatedErrors.required),lastname:t.Z_(),password:t.Z_().min(8,p.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(p.translatedErrors.required),email:t.Z_().email(p.translatedErrors.email).strict().lowercase(p.translatedErrors.lowercase).required(p.translatedErrors.required),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"components.Input.error.password.noMatch").required(p.translatedErrors.required)}),inputsPrefix:""},"reset-password":{Component:Ot,endPoint:"reset-password",fieldsToDisable:[],fieldsToOmit:["confirmPassword"],schema:t.Ry().shape({password:t.Z_().min(8,p.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(p.translatedErrors.required),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"components.Input.error.password.noMatch").required(p.translatedErrors.required)})}};const It=bt},92699:(J,M,e)=>{"use strict";e.d(M,{Z:()=>S});var t=e(96486);const i={contentManager:{main:[],collectionTypesConfigurations:[{action:"plugin::content-manager.collection-types.configure-view",subject:null}],componentsConfigurations:[{action:"plugin::content-manager.components.configure-layout",subject:null}],singleTypesConfigurations:[{action:"plugin::content-manager.single-types.configure-view",subject:null}]},marketplace:{main:[{action:"admin::marketplace.read",subject:null},{action:"admin::marketplace.plugins.install",subject:null},{action:"admin::marketplace.plugins.uninstall",subject:null}],install:[{action:"admin::marketplace.plugins.install",subject:null}],read:[{action:"admin::marketplace.read",subject:null},{action:"admin::marketplace.plugins.uninstall",subject:null}],uninstall:[{action:"admin::marketplace.plugins.uninstall",subject:null}]},settings:{roles:{main:[{action:"admin::roles.create",subject:null},{action:"admin::roles.update",subject:null},{action:"admin::roles.read",subject:null},{action:"admin::roles.delete",subject:null}],create:[{action:"admin::roles.create",subject:null}],delete:[{action:"admin::roles.delete",subject:null}],read:[{action:"admin::roles.read",subject:null}],update:[{action:"admin::roles.update",subject:null}]},users:{main:[{action:"admin::users.create",subject:null},{action:"admin::users.read",subject:null},{action:"admin::users.update",subject:null},{action:"admin::users.delete",subject:null}],create:[{action:"admin::users.create",subject:null}],delete:[{action:"admin::users.delete",subject:null}],read:[{action:"admin::users.read",subject:null}],update:[{action:"admin::users.update",subject:null}]},webhooks:{main:[{action:"admin::webhooks.create",subject:null},{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],create:[{action:"admin::webhooks.create",subject:null}],delete:[{action:"admin::webhooks.delete",subject:null}],read:[{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],update:[{action:"admin::webhooks.update",subject:null}]},"api-tokens":{main:[{action:"admin::api-tokens.create",subject:null},{action:"admin::api-tokens.read",subject:null},{action:"admin::api-tokens.update",subject:null},{action:"admin::api-tokens.delete",subject:null}],create:[{action:"admin::api-tokens.create",subject:null}],delete:[{action:"admin::api-tokens.delete",subject:null}],read:[{action:"admin::api-tokens.read",subject:null}],update:[{action:"admin::api-tokens.update",subject:null}]}}};var T=function(){return window&&window.strapi&&window.strapi.isEE?e(601).Z:e(57050).Z}(),I=(0,t.merge)(i,T);const S=I},66933:(J,M,e)=>{"use strict";e.r(M),e.d(M,{default:()=>hr});var t=e(53547),p=e(49656),i=e(68121),T=e(82492),I=e.n(T),S=e(78718),N=e.n(S),ee=e(23560),ie=e.n(ee),te=e(46128),D=e.n(te),q=e(15482),H=e(63955),R=e(35281);const b=a=>(0,R.combineReducers)(a),Q=(a,n)=>{const r=[];return a.forEach(m=>{r.push(m())}),(0,R.createStore)(b(n),{},(0,R.applyMiddleware)(...r))};var se=e(72256),P=e(68547),w=e(80117),le=e(97132),st=e(45697),l=e.n(st),ot=Object.defineProperty,ze=Object.getOwnPropertySymbols,Ve=Object.prototype.hasOwnProperty,We=Object.prototype.propertyIsEnumerable,ut=(a,n,r)=>n in a?ot(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,me=(a,n)=>{for(var r in n||(n={}))Ve.call(n,r)&&ut(a,r,n[r]);if(ze)for(var r of ze(n))We.call(n,r)&&ut(a,r,n[r]);return a},Oe=(a,n)=>{var r={};for(var m in a)Ve.call(a,m)&&n.indexOf(m)<0&&(r[m]=a[m]);if(a!=null&&ze)for(var m of ze(a))n.indexOf(m)<0&&We.call(a,m)&&(r[m]=a[m]);return r};const ue=a=>{var n=a,{component:r,path:m}=n,E=Oe(n,["component","path"]);const{pathname:y,search:d}=(0,p.useLocation)();return t.createElement(p.Route,{path:m,render:c=>P.auth.getToken()!==null?t.createElement(r,me(me({},E),c)):t.createElement(p.Redirect,{to:{pathname:"/auth/login",search:y!=="/"&&`?redirectTo=${encodeURIComponent(`${y}${d}`)}`}})})};ue.propTypes={component:l().any.isRequired,path:l().string.isRequired};const fe=(0,t.memo)(ue);var ne=e(58836),ce=e(71002),k=e(87462),U=e(4942),_=e(15861),we=e(70885),Le=e(44925),ke=e(9669),Ee=e.n(ke),X=e(68929),ge=e.n(X),Be=e(27361),be=e.n(Be),Ot=e(57557),Tt=e.n(Ot);const bt="GUIDED_TOUR_CURRENT_STEP",It="GUIDED_TOUR_COMPLETED_STEPS",re="GUIDED_TOUR_SKIPPED",at=JSON.parse,pe=JSON.stringify,Te={clear(){localStorage.removeItem(bt),localStorage.removeItem(It)},addCompletedStep:a=>{var n;const r=((n=at(localStorage.getItem(It)))==null?void 0:n.slice())||[];r.includes(a)||(r.push(a),localStorage.setItem(It,pe(r)))},addCurrentStep:a=>{localStorage.setItem(bt,pe(a))},setSkipped:a=>{localStorage.setItem(re,pe(a))},get:a=>at(localStorage.getItem(a))};var ft=e(20088),xe=e(7043);const Ie=a=>a;var Ye=e(8041),Rt=e(96486);const dt={formErrors:{},modifiedData:{},requestError:null},us=(a,n)=>(0,Ye.default)(a,r=>{switch(n.type){case"ON_CHANGE":{(0,Rt.set)(r.modifiedData,n.keys.split("."),n.value);break}case"RESET_PROPS":return dt;case"SET_DATA":{r.modifiedData=n.data;break}case"SET_ERRORS":{r.formErrors=n.errors;break}case"SET_REQUEST_ERROR":{r.requestError={errorMessage:n.errorMessage,errorStatus:n.errorStatus};break}default:return r}});var _t=e(25108),Kt=["Component","endPoint","fieldsToDisable","fieldsToOmit","inputsPrefix","schema"];function Bt(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(a);n&&(m=m.filter(function(E){return Object.getOwnPropertyDescriptor(a,E).enumerable})),r.push.apply(r,m)}return r}function Re(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Bt(Object(r),!0).forEach(function(m){(0,U.Z)(a,m,r[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Bt(Object(r)).forEach(function(m){Object.defineProperty(a,m,Object.getOwnPropertyDescriptor(r,m))})}return a}function nt(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */nt=function(){return a};var a={},n=Object.prototype,r=n.hasOwnProperty,m=typeof Symbol=="function"?Symbol:{},E=m.iterator||"@@iterator",y=m.asyncIterator||"@@asyncIterator",d=m.toStringTag||"@@toStringTag";function c(O,f,j){return Object.defineProperty(O,f,{value:j,enumerable:!0,configurable:!0,writable:!0}),O[f]}try{c({},"")}catch(O){c=function(j,x,Z){return j[x]=Z}}function g(O,f,j,x){var Z=f&&f.prototype instanceof V?f:V,Y=Object.create(Z.prototype),he=new os(x||[]);return Y._invoke=function(lt,ct,de){var Ke="suspendedStart";return function(pt,Ls){if(Ke==="executing")throw new Error("Generator is already running");if(Ke==="completed"){if(pt==="throw")throw Ls;return is()}for(de.method=pt,de.arg=Ls;;){var ls=de.delegate;if(ls){var qe=Ft(ls,de);if(qe){if(qe===G)continue;return qe}}if(de.method==="next")de.sent=de._sent=de.arg;else if(de.method==="throw"){if(Ke==="suspendedStart")throw Ke="completed",de.arg;de.dispatchException(de.arg)}else de.method==="return"&&de.abrupt("return",de.arg);Ke="executing";var ve=v(lt,ct,de);if(ve.type==="normal"){if(Ke=de.done?"completed":"suspendedYield",ve.arg===G)continue;return{value:ve.arg,done:de.done}}ve.type==="throw"&&(Ke="completed",de.method="throw",de.arg=ve.arg)}}}(O,j,he),Y}function v(O,f,j){try{return{type:"normal",arg:O.call(f,j)}}catch(x){return{type:"throw",arg:x}}}a.wrap=g;var G={};function V(){}function oe(){}function ae(){}var $={};c($,E,function(){return this});var Me=Object.getPrototypeOf,De=Me&&Me(Me(as([])));De&&De!==n&&r.call(De,E)&&($=De);var _e=ae.prototype=V.prototype=Object.create($);function Dt(O){["next","throw","return"].forEach(function(f){c(O,f,function(j){return this._invoke(f,j)})})}function Wt(O,f){function j(Z,Y,he,lt){var ct=v(O[Z],O,Y);if(ct.type!=="throw"){var de=ct.arg,Ke=de.value;return Ke&&(0,ce.Z)(Ke)=="object"&&r.call(Ke,"__await")?f.resolve(Ke.__await).then(function(pt){j("next",pt,he,lt)},function(pt){j("throw",pt,he,lt)}):f.resolve(Ke).then(function(pt){de.value=pt,he(de)},function(pt){return j("throw",pt,he,lt)})}lt(ct.arg)}var x;this._invoke=function(Z,Y){function he(){return new f(function(lt,ct){j(Z,Y,lt,ct)})}return x=x?x.then(he,he):he()}}function Ft(O,f){var j=O.iterator[f.method];if(j===void 0){if(f.delegate=null,f.method==="throw"){if(O.iterator.return&&(f.method="return",f.arg=void 0,Ft(O,f),f.method==="throw"))return G;f.method="throw",f.arg=new TypeError("The iterator does not provide a 'throw' method")}return G}var x=v(j,O.iterator,f.arg);if(x.type==="throw")return f.method="throw",f.arg=x.arg,f.delegate=null,G;var Z=x.arg;return Z?Z.done?(f[O.resultName]=Z.value,f.next=O.nextLoc,f.method!=="return"&&(f.method="next",f.arg=void 0),f.delegate=null,G):Z:(f.method="throw",f.arg=new TypeError("iterator result is not an object"),f.delegate=null,G)}function dn(O){var f={tryLoc:O[0]};1 in O&&(f.catchLoc=O[1]),2 in O&&(f.finallyLoc=O[2],f.afterLoc=O[3]),this.tryEntries.push(f)}function rs(O){var f=O.completion||{};f.type="normal",delete f.arg,O.completion=f}function os(O){this.tryEntries=[{tryLoc:"root"}],O.forEach(dn,this),this.reset(!0)}function as(O){if(O){var f=O[E];if(f)return f.call(O);if(typeof O.next=="function")return O;if(!isNaN(O.length)){var j=-1,x=function Z(){for(;++j<O.length;)if(r.call(O,j))return Z.value=O[j],Z.done=!1,Z;return Z.value=void 0,Z.done=!0,Z};return x.next=x}}return{next:is}}function is(){return{value:void 0,done:!0}}return oe.prototype=ae,c(_e,"constructor",ae),c(ae,"constructor",oe),oe.displayName=c(ae,d,"GeneratorFunction"),a.isGeneratorFunction=function(O){var f=typeof O=="function"&&O.constructor;return!!f&&(f===oe||(f.displayName||f.name)==="GeneratorFunction")},a.mark=function(O){return Object.setPrototypeOf?Object.setPrototypeOf(O,ae):(O.__proto__=ae,c(O,d,"GeneratorFunction")),O.prototype=Object.create(_e),O},a.awrap=function(O){return{__await:O}},Dt(Wt.prototype),c(Wt.prototype,y,function(){return this}),a.AsyncIterator=Wt,a.async=function(O,f,j,x,Z){Z===void 0&&(Z=Promise);var Y=new Wt(g(O,f,j,x),Z);return a.isGeneratorFunction(f)?Y:Y.next().then(function(he){return he.done?he.value:Y.next()})},Dt(_e),c(_e,d,"Generator"),c(_e,E,function(){return this}),c(_e,"toString",function(){return"[object Generator]"}),a.keys=function(O){var f=[];for(var j in O)f.push(j);return f.reverse(),function x(){for(;f.length;){var Z=f.pop();if(Z in O)return x.value=Z,x.done=!1,x}return x.done=!0,x}},a.values=as,os.prototype={constructor:os,reset:function(f){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(rs),!f)for(var j in this)j.charAt(0)==="t"&&r.call(this,j)&&!isNaN(+j.slice(1))&&(this[j]=void 0)},stop:function(){this.done=!0;var f=this.tryEntries[0].completion;if(f.type==="throw")throw f.arg;return this.rval},dispatchException:function(f){if(this.done)throw f;var j=this;function x(de,Ke){return he.type="throw",he.arg=f,j.next=de,Ke&&(j.method="next",j.arg=void 0),!!Ke}for(var Z=this.tryEntries.length-1;Z>=0;--Z){var Y=this.tryEntries[Z],he=Y.completion;if(Y.tryLoc==="root")return x("end");if(Y.tryLoc<=this.prev){var lt=r.call(Y,"catchLoc"),ct=r.call(Y,"finallyLoc");if(lt&&ct){if(this.prev<Y.catchLoc)return x(Y.catchLoc,!0);if(this.prev<Y.finallyLoc)return x(Y.finallyLoc)}else if(lt){if(this.prev<Y.catchLoc)return x(Y.catchLoc,!0)}else{if(!ct)throw new Error("try statement without catch or finally");if(this.prev<Y.finallyLoc)return x(Y.finallyLoc)}}}},abrupt:function(f,j){for(var x=this.tryEntries.length-1;x>=0;--x){var Z=this.tryEntries[x];if(Z.tryLoc<=this.prev&&r.call(Z,"finallyLoc")&&this.prev<Z.finallyLoc){var Y=Z;break}}Y&&(f==="break"||f==="continue")&&Y.tryLoc<=j&&j<=Y.finallyLoc&&(Y=null);var he=Y?Y.completion:{};return he.type=f,he.arg=j,Y?(this.method="next",this.next=Y.finallyLoc,G):this.complete(he)},complete:function(f,j){if(f.type==="throw")throw f.arg;return f.type==="break"||f.type==="continue"?this.next=f.arg:f.type==="return"?(this.rval=this.arg=f.arg,this.method="return",this.next="end"):f.type==="normal"&&j&&(this.next=j),G},finish:function(f){for(var j=this.tryEntries.length-1;j>=0;--j){var x=this.tryEntries[j];if(x.finallyLoc===f)return this.complete(x.completion,x.afterLoc),rs(x),G}},catch:function(f){for(var j=this.tryEntries.length-1;j>=0;--j){var x=this.tryEntries[j];if(x.tryLoc===f){var Z=x.completion;if(Z.type==="throw"){var Y=Z.arg;rs(x)}return Y}}throw new Error("illegal catch attempt")},delegateYield:function(f,j,x){return this.delegate={iterator:as(f),resultName:j,nextLoc:x},this.method==="next"&&(this.arg=void 0),G}},a}var gt=function(){return window&&window.strapi&&window.strapi.isEE?e(66267).Z:e(48858).Z}(),Ze=function(n){var r=n.hasAdmin,m=n.setHasAdmin,E=(0,p.useHistory)(),y=E.push,d=E.location.search,c=(0,ft.Z)(),g=c.changeLocale,v=(0,P.useGuidedTour)(),G=v.setSkipped,V=(0,P.useTracking)(),oe=V.trackUsage,ae=(0,p.useRouteMatch)("/auth/:authType"),$=ae.params.authType,Me=(0,P.useQuery)(),De=be()(gt,$,{}),_e=De.Component,Dt=De.endPoint,Wt=De.fieldsToDisable,Ft=De.fieldsToOmit,dn=De.inputsPrefix,rs=De.schema,os=(0,Le.Z)(De,Kt),as=(0,t.useReducer)(us,dt,Ie),is=(0,we.Z)(as,2),O=is[0],f=O.formErrors,j=O.modifiedData,x=O.requestError,Z=is[1],Y=Ee().CancelToken,he=Y.source();(0,t.useEffect)(function(){return function(){he.cancel("Component unmounted")}},[]),(0,t.useEffect)(function(){Z({type:"RESET_PROPS"})},[$]);var lt=function(ve){var ye=ve.target,He=ye.name,Se=ye.value;Z({type:"ON_CHANGE",keys:He,value:Se})},ct=function(){var qe=(0,_.Z)(nt().mark(function ve(ye,He){var Se,$e,et,tt;return nt().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:if(Se=He.setSubmitting,$e=He.setErrors,Se(!0),et=Tt()(ye,Ft),tt="/admin/".concat(Dt),$!=="login"){Ue.next=7;break}return Ue.next=7,Ke(ye,tt,{setSubmitting:Se,setErrors:$e});case 7:if(!($==="register"||$==="register-admin")){Ue.next=10;break}return Ue.next=10,pt(ye,tt,{setSubmitting:Se,setErrors:$e});case 10:if($!=="forgot-password"){Ue.next=13;break}return Ue.next=13,de(et,tt,{setSubmitting:Se,setErrors:$e});case 13:if($!=="reset-password"){Ue.next=16;break}return Ue.next=16,Ls(et,tt,{setSubmitting:Se,setErrors:$e});case 16:case"end":return Ue.stop()}},ve)}));return function(ye,He){return qe.apply(this,arguments)}}(),de=function(){var qe=(0,_.Z)(nt().mark(function ve(ye,He,Se){var $e,et;return nt().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return $e=Se.setSubmitting,et=Se.setErrors,Pe.prev=1,Pe.next=4,Ee()({method:"POST",url:"".concat(strapi.backendURL).concat(He),data:ye,cancelToken:he.token});case 4:y("/auth/forgot-password-success"),Pe.next=11;break;case 7:Pe.prev=7,Pe.t0=Pe.catch(1),_t.error(Pe.t0),et({errorMessage:"notification.error"});case 11:return Pe.prev=11,$e(!1),Pe.finish(11);case 14:case"end":return Pe.stop()}},ve,null,[[1,7,11,14]])}));return function(ye,He,Se){return qe.apply(this,arguments)}}(),Ke=function(){var qe=(0,_.Z)(nt().mark(function ve(ye,He,Se){var $e,et,tt,Pe,Ue,Et,vt;return nt().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return $e=Se.setSubmitting,et=Se.setErrors,je.prev=1,je.next=4,Ee()({method:"POST",url:"".concat(strapi.backendURL).concat(He),data:Tt()(ye,Ft),cancelToken:he.token});case 4:tt=je.sent,Pe=tt.data.data,Ue=Pe.token,Et=Pe.user,Et.preferedLanguage&&g(Et.preferedLanguage),P.auth.setToken(Ue,ye.rememberMe),P.auth.setUserInfo(Et,ye.rememberMe),ls(),je.next=23;break;case 14:if(je.prev=14,je.t0=je.catch(1),!je.t0.response){je.next=23;break}if(vt=be()(je.t0,["response","data","error","message"],"Something went wrong"),ge()(vt).toLowerCase()!=="usernotactive"){je.next=22;break}return y("/auth/oops"),Z({type:"RESET_PROPS"}),je.abrupt("return");case 22:et({errorMessage:vt});case 23:return je.prev=23,$e(!1),je.finish(23);case 26:case"end":return je.stop()}},ve,null,[[1,14,23,26]])}));return function(ye,He,Se){return qe.apply(this,arguments)}}(),pt=function(){var qe=(0,_.Z)(nt().mark(function ve(ye,He,Se){var $e,et,tt,Pe,Ue,Et,vt,Nt,je,Ge;return nt().wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:return $e=Se.setSubmitting,et=Se.setErrors,rt.prev=1,oe("willCreateFirstAdmin"),rt.next=5,Ee()({method:"POST",url:"".concat(strapi.backendURL).concat(He),data:Tt()(ye,Ft),cancelToken:he.token});case 5:if(tt=rt.sent,Pe=tt.data.data,Ue=Pe.token,Et=Pe.user,P.auth.setToken(Ue,!1),P.auth.setUserInfo(Et,!1),$e(!1),m(!0),vt=Et.roles,vt&&(Nt=vt.find(function(Er){var vr=Er.code;return vr==="strapi-super-admin"}),Nt&&(Te.setSkipped(!1),G(!1),oe("didLaunchGuidedtour"))),!($==="register"&&ye.userInfo.news===!0||$==="register-admin"&&ye.news===!0)){rt.next=18;break}return y({pathname:"/usecase",search:"?hasAdmin=".concat(r)}),rt.abrupt("return");case 18:ls(),rt.next=25;break;case 21:rt.prev=21,rt.t0=rt.catch(1),oe("didNotCreateFirstAdmin"),rt.t0.response&&(je=rt.t0.response.data,Ge=(0,xe.Z)(je),et({apiErrors:Ge}));case 25:case"end":return rt.stop()}},ve,null,[[1,21]])}));return function(ye,He,Se){return qe.apply(this,arguments)}}(),Ls=function(){var qe=(0,_.Z)(nt().mark(function ve(ye,He,Se){var $e,et,tt,Pe,Ue,Et,vt,Nt;return nt().wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:return $e=Se.setErrors,et=Se.setSubmitting,Ge.prev=1,Ge.next=4,Ee()({method:"POST",url:"".concat(strapi.backendURL).concat(He),data:Re(Re({},ye),{},{resetPasswordToken:Me.get("code")}),cancelToken:he.token});case 4:tt=Ge.sent,Pe=tt.data.data,Ue=Pe.token,Et=Pe.user,P.auth.setToken(Ue,!1),P.auth.setUserInfo(Et,!1),y("/"),Ge.next=16;break;case 13:Ge.prev=13,Ge.t0=Ge.catch(1),Ge.t0.response&&(vt=be()(Ge.t0,["response","data","message"],"Something went wrong"),Nt=be()(Ge.t0,["response","data","statusCode"],400),Z({type:"SET_REQUEST_ERROR",errorMessage:vt,errorStatus:Nt}),$e({errorMessage:vt}));case 16:return Ge.prev=16,et(!1),Ge.finish(16);case 19:case"end":return Ge.stop()}},ve,null,[[1,13,16,19]])}));return function(ye,He,Se){return qe.apply(this,arguments)}}(),ls=function(){if($==="login"){var ve=Me.get("redirectTo"),ye=ve?decodeURIComponent(ve):"/";y(ye)}else y("/")};return!gt[$]||r&&$==="register-admin"||P.auth.getToken()?t.createElement(p.Redirect,{to:"/"}):!r&&$!=="register-admin"?t.createElement(p.Redirect,{to:{pathname:"/auth/register-admin",search:d}}):t.createElement(_e,(0,k.Z)({},os,{authType:$,fieldsToDisable:Wt,formErrors:f,inputsPrefix:dn,modifiedData:j,onChange:lt,onSubmit:ct,requestError:x,schema:rs}))};Ze.defaultProps={hasAdmin:!1},Ze.propTypes={hasAdmin:l().bool,setHasAdmin:l().func.isRequired};const Ae=Ze;var Qe=e(92776),Ne=e(16384),At=e(80129),Ct=e(40264),jt=e(94117),Gt=e(9524),Zt=e(33483),Ht=e(2632),cn=e(99136),As=e(82212),Cs=e(64459),pn=e(87173),ds=e(83137);const it=[{intlLabel:{id:"Usecase.front-end",defaultMessage:"Front-end developer"},value:"front_end_developer"},{intlLabel:{id:"Usecase.back-end",defaultMessage:"Back-end developer"},value:"back_end_developer"},{intlLabel:{id:"Usecase.full-stack",defaultMessage:"Full-stack developer"},value:"full_stack_developer"},{intlLabel:{id:"global.content-manager",defaultMessage:"Content Manager"},value:"content_manager"},{intlLabel:{id:"Usecase.content-creator",defaultMessage:"Content Creator"},value:"content_creator"},{intlLabel:{id:"Usecase.other",defaultMessage:"Other"},value:"other"}],cs=(0,Ne.default)(Zt.Typography)`
  text-align: center;
`,Ds=()=>{const a=(0,P.useNotification)(),{push:n,location:r}=(0,p.useHistory)(),{formatMessage:m}=(0,le.useIntl)(),[E,y]=(0,t.useState)(),[d,c]=(0,t.useState)(""),{firstname:g,email:v}=P.auth.getUserInfo(),{hasAdmin:G}=(0,At.parse)(r==null?void 0:r.search,{ignoreQueryPrefix:!0}),V=E==="other",oe=ae=>{try{Ee()({method:"POST",url:"https://analytics.strapi.io/register",data:{email:v,username:g,firstAdmin:Boolean(!G),persona:{role:ae?void 0:E,otherRole:ae?void 0:d}}}),a({type:"success",message:{id:"Usecase.notification.success.project-created",defaultMessage:"Project has been successfully created"}}),n("/")}catch($){}};return t.createElement(ds.ZP,null,t.createElement(w.Main,{labelledBy:"usecase-title"},t.createElement(ds.bU,null,t.createElement("form",{onSubmit:()=>oe(!1)},t.createElement(Ct.Flex,{direction:"column",paddingBottom:7},t.createElement(pn.Z,null),t.createElement(jt.Box,{paddingTop:6,paddingBottom:1,width:(0,P.pxToRem)(250)},t.createElement(cs,{variant:"alpha",as:"h1",id:"usecase-title"},m({id:"Usecase.title",defaultMessage:"Tell us a bit more about yourself"})))),t.createElement(Gt.Stack,{spacing:6},t.createElement(Ht.Select,{id:"usecase","data-testid":"usecase",label:m({id:"Usecase.input.work-type",defaultMessage:"What type of work do you do?"}),onChange:y,value:E},it.map(({intlLabel:ae,value:$})=>t.createElement(Ht.Option,{key:$,value:$},m(ae)))),V&&t.createElement(cn.TextInput,{name:"other",label:m({id:"Usecase.other",defaultMessage:"Other"}),value:d,onChange:ae=>c(ae.target.value),"data-testid":"other"}),t.createElement(Cs.Button,{type:"submit",size:"L",fullWidth:!0,disabled:!E},m({id:"global.finish",defaultMessage:"Finish"}))))),t.createElement(Ct.Flex,{justifyContent:"center"},t.createElement(jt.Box,{paddingTop:4},t.createElement(As.TextButton,{onClick:()=>oe(!0)},m({id:"Usecase.button.skip",defaultMessage:"Skip this question"}))))))};var bs=e(66716),Is=(a,n,r)=>new Promise((m,E)=>{var y=g=>{try{c(r.next(g))}catch(v){E(v)}},d=g=>{try{c(r.throw(g))}catch(v){E(v)}},c=g=>g.done?m(g.value):Promise.resolve(g.value).then(y,d);c((r=r.apply(a,n)).next())});const _s=()=>Is(void 0,null,function*(){return`web-fingerprint-${(yield(yield bs.ZP.load()).get()).visitorId}`});var js=e(42982);const ws=[];var Bs=function(){return window&&window.strapi&&window.strapi.isEE?e(33948).Z:e(36248).Z}();const Us=[].concat((0,js.Z)(Bs),(0,js.Z)(ws));var ps=Object.defineProperty,ks=Object.defineProperties,xs=Object.getOwnPropertyDescriptors,$t=Object.getOwnPropertySymbols,ms=Object.prototype.hasOwnProperty,fs=Object.prototype.propertyIsEnumerable,Ws=(a,n,r)=>n in a?ps(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,gs=(a,n)=>{for(var r in n||(n={}))ms.call(n,r)&&Ws(a,r,n[r]);if($t)for(var r of $t(n))fs.call(n,r)&&Ws(a,r,n[r]);return a},zt=(a,n)=>ks(a,xs(n)),Fs=(a,n,r)=>new Promise((m,E)=>{var y=g=>{try{c(r.next(g))}catch(v){E(v)}},d=g=>{try{c(r.throw(g))}catch(v){E(v)}},c=g=>g.done?m(g.value):Promise.resolve(g.value).then(y,d);c((r=r.apply(a,n)).next())});const Ns=(0,t.lazy)(()=>Promise.all([e.e(7814),e.e(5775),e.e(801)]).then(e.bind(e,63339)));function Ks(){const a=(0,P.useNotification)(),{formatMessage:n}=(0,le.useIntl)(),[{isLoading:r,hasAdmin:m,uuid:E},y]=(0,t.useState)({isLoading:!0,hasAdmin:!1}),d=(0,t.useMemo)(()=>(0,ne.WW)(Us.map(({to:g,Component:v,exact:G})=>(0,ne.ot)(v,g,G))),[]);(0,t.useEffect)(()=>{const g=P.auth.getToken();g&&(()=>Fs(this,null,function*(){try{const{data:{token:G}}=yield(0,P.request)("/admin/renew-token",{method:"POST",body:{token:g}});P.auth.updateToken(G)}catch(G){P.auth.clearAppStorage(),window.location.reload()}}))()},[]),(0,t.useEffect)(()=>{(()=>Fs(this,null,function*(){try{const{data:{hasAdmin:v,uuid:G}}=yield(0,P.request)("/admin/init",{method:"GET"});if(G)try{const V=yield _s();fetch("https://analytics.strapi.io/track",{method:"POST",body:JSON.stringify({event:"didInitializeAdministration",uuid:G,deviceId:V}),headers:{"Content-Type":"application/json"}})}catch(V){}y({isLoading:!1,hasAdmin:v,uuid:G})}catch(v){a({type:"warning",message:{id:"app.containers.App.notification.error.init"}})}}))()},[a]);const c=g=>y(v=>zt(gs({},v),{hasAdmin:g}));return r?t.createElement(P.LoadingIndicatorPage,null):t.createElement(t.Suspense,{fallback:t.createElement(P.LoadingIndicatorPage,null)},t.createElement(w.SkipToContent,null,n({id:"skipToContent"})),t.createElement(P.TrackingContext.Provider,{value:E},t.createElement(p.Switch,null,d,t.createElement(p.Route,{path:"/auth/:authType",render:g=>t.createElement(Ae,zt(gs({},g),{setHasAdmin:c,hasAdmin:m})),exact:!0}),t.createElement(fe,{path:"/usecase",component:Ds}),t.createElement(fe,{path:"/",component:Ns}),t.createElement(p.Route,{path:"",component:Qe.default}))))}const Gs=Ks;var Zs=e(83522),Hs=e(42201),hs=e(23724),Es=e(37424),Vt=e(40448),$s=e(66913),vs=e.n($s),Xt=e(78033);const Ut=({changeLocale:a,children:n,localeNames:r,messages:m})=>t.createElement(Xt.Z.Provider,{value:{changeLocale:a,localeNames:r,messages:m}},n);Ut.propTypes={changeLocale:l().func.isRequired,children:l().element.isRequired,localeNames:l().object.isRequired,messages:l().object.isRequired};const gn=Ut,Yt="strapi-admin-language",zs=a=>{const n=window.localStorage.getItem(Yt);return{locale:a[n]?n:"en",localeNames:a}};var ys=Object.defineProperty,Ps=Object.defineProperties,Vs=Object.getOwnPropertyDescriptors,Os=Object.getOwnPropertySymbols,Xs=Object.prototype.hasOwnProperty,Ys=Object.prototype.propertyIsEnumerable,Qt=(a,n,r)=>n in a?ys(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,Qs=(a,n)=>{for(var r in n||(n={}))Xs.call(n,r)&&Qt(a,r,n[r]);if(Os)for(var r of Os(n))Ys.call(n,r)&&Qt(a,r,n[r]);return a},Js=(a,n)=>Ps(a,Vs(n));const Jt={localeNames:{en:"English"},locale:"en"},qs=(a=Jt,n)=>{switch(n.type){case"CHANGE_LOCALE":{const{locale:r}=n;return a.localeNames[r]?Js(Qs({},a),{locale:r}):a}default:return a}},en=({children:a,localeNames:n,messages:r})=>{const[{locale:m},E]=(0,t.useReducer)(qs,Jt,()=>zs(n));(0,t.useEffect)(()=>{window.localStorage.setItem(Yt,m)},[m]);const y=c=>{E({type:"CHANGE_LOCALE",locale:c})},d=vs()(r[m],r.en);return t.createElement(le.IntlProvider,{locale:m,defaultLocale:"en",messages:d,textComponent:"span"},t.createElement(gn,{changeLocale:y,localeNames:n,messages:d},a))};en.propTypes={children:l().element.isRequired,localeNames:l().objectOf(l().string).isRequired,messages:l().object.isRequired};const tn=en,Ts=(a,n)=>{const r=Object.entries(n),m=r.findIndex(([y])=>y===a);return r.slice(0,m).every(([,y])=>Object.values(y).every(Boolean))},sn=(a,n)=>{const r=a.split("."),m=r[1],E=Object.entries(n[r[0]]),y=E.findIndex(([c])=>c===m);return E.slice(0,y).every(([,c])=>c)},qt={currentStep:null,guidedTourState:{contentTypeBuilder:{create:!1,success:!1},contentManager:{create:!1,success:!1},apiTokens:{create:!1,success:!1}},isGuidedTourVisible:!1,isSkipped:!0},nn=(a=qt,n)=>(0,Ye.default)(a,r=>{switch(n.type){case"SET_CURRENT_STEP":{r.currentStep=n.step;break}case"SET_STEP_STATE":{const[m,E]=n.currentStep.split(".");r.guidedTourState[m][E]=n.value;break}case"SET_SKIPPED":{r.isSkipped=n.value;break}case"SET_GUIDED_TOUR_VISIBILITY":{r.isGuidedTourVisible=n.value;break}default:return r}});var rn=e(36968),Rs=e.n(rn),yn=Object.defineProperty,on=Object.getOwnPropertySymbols,an=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,o=(a,n,r)=>n in a?yn(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,s=(a,n)=>{for(var r in n||(n={}))an.call(n,r)&&o(a,r,n[r]);if(on)for(var r of on(n))u.call(n,r)&&o(a,r,n[r]);return a};const A=a=>{const n=s({},a),r=Te.get(It),m=Te.get(bt),E=Te.get(re);if(r&&r.forEach(y=>{const[d,c]=y.split(".");Rs()(n,["guidedTourState",d,c],!0)}),m){const[y,d]=m.split(".");Rs()(n,["guidedTourState",y,d],!0),Te.addCompletedStep(m),Te.addCurrentStep(null)}return E!==null&&Rs()(n,"isSkipped",E),n},W=({children:a})=>{const[{currentStep:n,guidedTourState:r,isGuidedTourVisible:m,isSkipped:E},y]=(0,t.useReducer)(nn,qt,A),d=V=>{if(V!==null){const oe=be()(r,V),ae=sn(V,r);if(oe||E||!ae)return null}return Te.addCurrentStep(V),y({type:"SET_CURRENT_STEP",step:V})},c=V=>{y({type:"SET_GUIDED_TOUR_VISIBILITY",value:V})},g=(V,oe)=>{Te.addCompletedStep(V),y({type:"SET_STEP_STATE",currentStep:V,value:oe})},v=V=>{const oe=r[V];if(oe){const ae=Ts(V,r),$=Object.keys(oe)[0],Me=oe[$];if(ae&&!n&&!Me)return d(`${V}.${$}`)}return null},G=V=>{Te.setSkipped(V),y({type:"SET_SKIPPED",value:V})};return t.createElement(P.GuidedTourProvider,{guidedTourState:r,currentStep:n,setCurrentStep:d,setGuidedTourVisibility:c,setSkipped:G,setStepState:g,startSection:v,isGuidedTourVisible:m,isSkipped:E},a)};W.propTypes={children:l().element.isRequired};const K=W;var L=e(67421),h=e(66350),F=e.n(h),Xe=e(79274),St=e.n(Xe),yt=e(56156);const Mt=(0,Ne.default)(jt.Box)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1140;
  &:before {
    content: '';
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: ${({theme:a})=>a.colors.neutral0};
    opacity: 0.9;
  }
`,es=(0,Ne.default)(Gt.Stack)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  padding-top: ${(0,P.pxToRem)(160)};
`,ts=(0,Ne.default)(jt.Box)`
  border-radius: 50%;
  svg {
    > path {
      fill: ${({theme:a})=>a.colors.primary600} !important;
    }
  }
`,wt=document.createElement("div"),ss="autoReloadOverlayBlocker";wt.setAttribute("id",ss);const Lt=Ne.keyframes`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,Je=(0,Ne.default)(St())`
  animation: ${Lt} 1s infinite linear;
`,ht=({displayedIcon:a,description:n,title:r,isOpen:m})=>{const{formatMessage:E}=(0,le.useIntl)();return(0,t.useEffect)(()=>(document.body.appendChild(wt),()=>{document.body.removeChild(wt)}),[]),m?L.createPortal(t.createElement(Mt,null,t.createElement(es,{spacing:6},t.createElement(Gt.Stack,{spacing:2},t.createElement(Ct.Flex,{justifyContent:"center"},t.createElement(Zt.Typography,{as:"h1",variant:"alpha"},E(r))),t.createElement(Ct.Flex,{justifyContent:"center"},t.createElement(Zt.Typography,{as:"h2",textColor:"neutral600",fontSize:4,fontWeight:"regular"},E(n)))),t.createElement(Ct.Flex,{justifyContent:"center"},a==="reload"&&t.createElement(ts,{padding:6,background:"primary100",borderColor:"primary200"},t.createElement(Je,{width:(0,P.pxToRem)(36),height:(0,P.pxToRem)(36)})),a==="time"&&t.createElement(ts,{padding:6,background:"primary100",borderColor:"primary200"},t.createElement(F(),{width:(0,P.pxToRem)(40),height:(0,P.pxToRem)(40)}))),t.createElement(Ct.Flex,{justifyContent:"center"},t.createElement(jt.Box,{paddingTop:2},t.createElement(yt.Link,{href:"https://docs.strapi.io",target:"_blank",rel:"noopener noreferrer nofollow"},E({id:"global.documentation",defaultMessage:"Read the documentation"})))))),wt):null};ht.propTypes={displayedIcon:l().oneOfType([l().string,l().array]).isRequired,description:l().object.isRequired,isOpen:l().bool.isRequired,title:l().object.isRequired};const Pt=ht;var ns=Object.defineProperty,xn=Object.defineProperties,Wn=Object.getOwnPropertyDescriptors,Pn=Object.getOwnPropertySymbols,Fn=Object.prototype.hasOwnProperty,Nn=Object.prototype.propertyIsEnumerable,On=(a,n,r)=>n in a?ns(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,Tn=(a,n)=>{for(var r in n||(n={}))Fn.call(n,r)&&On(a,r,n[r]);if(Pn)for(var r of Pn(n))Nn.call(n,r)&&On(a,r,n[r]);return a},Rn=(a,n)=>xn(a,Wn(n));const Sn=30,Mn=({children:a})=>{const[n,r]=(0,t.useState)(!1),[{elapsed:m},E]=(0,t.useState)({elapsed:0,start:0}),[y,d]=(0,t.useState)(void 0),c=($=void 0)=>{r(!0),d($),E(Me=>Rn(Tn({},Me),{start:Date.now()}))},g=()=>{r(!1),E({start:0,elapsed:0}),d(void 0)},v=(0,t.useRef)(c),G=(0,t.useRef)(g);(0,t.useEffect)(()=>{let $=null;return n?$=setInterval(()=>m>Sn?(clearInterval($),null):(E(Me=>Rn(Tn({},Me),{elapsed:Math.round(Date.now()-Me.start)/1e3})),null),1e3):clearInterval($),()=>{clearInterval($)}},[n,m]);let V=(y==null?void 0:y.icon)||"reload",oe={id:(y==null?void 0:y.description)||"components.OverlayBlocker.description",defaultMessage:"You're using a feature that needs the server to restart. Please wait until the server is up."},ae={id:(y==null?void 0:y.title)||"components.OverlayBlocker.title",defaultMessage:"Waiting for restart"};return m>Sn&&(V="time",oe={id:"components.OverlayBlocker.description.serverError",defaultMessage:"The server should have restarted, please check your logs in the terminal."},ae={id:"components.OverlayBlocker.title.serverError",defaultMessage:"The restart is taking longer than expected"}),t.createElement(P.AutoReloadOverlayBockerContext.Provider,{value:{lockApp:v.current,unlockApp:G.current}},t.createElement(Pt,{displayedIcon:V,isOpen:n,description:oe,title:ae}),a)};Mn.propTypes={children:l().element.isRequired};const Kn=Mn;var Gn=e(78881);const ln=({dispatch:a,notification:n})=>{var r,m,E;const{formatMessage:y}=(0,le.useIntl)(),{message:d,link:c,type:g,id:v,onClose:G,timeout:V,blockTransition:oe}=n,ae=_e=>typeof _e=="string"?_e:y(_e,_e.values),$=(0,t.useCallback)(()=>{G&&G(),a({type:"HIDE_NOTIFICATION",id:v})},[v]);(0,t.useEffect)(()=>{let _e;return oe||(_e=setTimeout(()=>{$()},V||2500)),()=>clearTimeout(_e)},[oe,$,V]);let Me,De;return g==="info"?(Me="default",De=y({id:"notification.default.title",defaultMessage:"Information:"})):g==="warning"?(De=y({id:"notification.warning.title",defaultMessage:"Warning:"}),Me="danger"):(De=y({id:"notification.success.title",defaultMessage:"Success:"}),Me="success"),t.createElement(Gn.Alert,{action:c?t.createElement(yt.Link,{href:c.url,target:"_blank"},y({id:((r=c.label)==null?void 0:r.id)||c.label,defaultMessage:((m=c.label)==null?void 0:m.defaultMessage)||((E=c.label)==null?void 0:E.id)||c.label})):void 0,onClose:$,closeLabel:"Close",title:De,variant:Me},ae({id:(d==null?void 0:d.id)||d,defaultMessage:(d==null?void 0:d.defaultMessage)||(d==null?void 0:d.id)||d}))};ln.defaultProps={notification:{id:1,type:"success",message:{id:"notification.success.saved",defaultMessage:"Saved"},onClose:()=>null,timeout:2500,blockTransition:!1}},ln.propTypes={dispatch:l().func.isRequired,notification:l().shape({id:l().number,message:l().oneOfType([l().string,l().shape({id:l().string.isRequired,defaultMessage:l().string,values:l().object})]),link:l().shape({target:l().string,url:l().string.isRequired,label:l().oneOfType([l().string,l().shape({id:l().string.isRequired,defaultMessage:l().string,values:l().object})]).isRequired}),type:l().string,onClose:l().func,timeout:l().number,blockTransition:l().bool})};const Zn=ln,Ln={notifId:0,notifications:[]},Hn=(a=Ln,n)=>(0,Ye.default)(a,r=>{switch(n.type){case"SHOW_NOTIFICATION":{r.notifications.push({id:a.notifId,type:be()(n,["config","type"],"success"),message:be()(n,["config","message"],{id:"notification.success.saved",defaultMessage:"Saved"}),link:be()(n,["config","link"],null),timeout:be()(n,["config","timeout"],2500),blockTransition:be()(n,["config","blockTransition"],!1),onClose:be()(n,["config","onClose"],null)}),r.notifId=a.notifId+1;break}case"HIDE_NOTIFICATION":{const m=a.notifications.findIndex(E=>E.id===n.id);m!==-1&&r.notifications.splice(m,1);break}default:return r}}),An=({children:a})=>{const[{notifications:n},r]=(0,t.useReducer)(Hn,Ln),m=E=>{r({type:"SHOW_NOTIFICATION",config:E})};return t.createElement(P.NotificationsProvider,{toggleNotification:m},t.createElement(Gt.Stack,{left:"50%",marginLeft:"-250px",position:"fixed",spacing:2,top:`${46/16}rem`,width:`${500/16}rem`,zIndex:10},n.map(E=>t.createElement(Zn,{key:E.id,dispatch:r,notification:E}))),a)};An.propTypes={children:l().element.isRequired};const $n=An,Ss=document.createElement("div");Ss.setAttribute("id","overlayBlocker");const zn=Ne.default.div`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1140;
`,Vn=({isOpen:a})=>((0,t.useEffect)(()=>(document.body.appendChild(Ss),()=>{document.body.removeChild(Ss)}),[]),a?L.createPortal(t.createElement(zn,null),Ss):null),Cn=({children:a})=>{const[n,r]=(0,t.useState)(!1),m=()=>{r(!0)},E=()=>{r(!1)};return t.createElement(P.OverlayBlockerContext.Provider,{value:{lockApp:m,unlockApp:E}},a,t.createElement(Vn,{isOpen:n}))};Cn.propTypes={children:l().node.isRequired};const Xn=Cn,Dn="STRAPI_THEME",Yn=()=>{const a=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";return localStorage.getItem(Dn)||a},bn=({children:a,themes:n})=>{const[r,m]=(0,t.useState)(Yn()),E=y=>{m(y),localStorage.setItem(Dn,y)};return t.createElement(Vt.Rj.Provider,{value:{currentTheme:r,onChangeTheme:E,themes:n}},a)};bn.propTypes={children:l().node.isRequired,themes:l().shape({light:l().shape({colors:l().object.isRequired,shadows:l().object.isRequired,sizes:l().object.isRequired,zIndices:l().array.isRequired,spaces:l().array.isRequired,borderRadius:l().string.isRequired,mediaQueries:l().object.isRequired,fontSizes:l().array.isRequired,lineHeights:l().array.isRequired,fontWeights:l().object.isRequired}).isRequired,dark:l().shape({colors:l().object.isRequired,shadows:l().object.isRequired,sizes:l().object.isRequired,zIndices:l().array.isRequired,spaces:l().array.isRequired,borderRadius:l().string.isRequired,mediaQueries:l().object.isRequired,fontSizes:l().array.isRequired,lineHeights:l().array.isRequired,fontWeights:l().object.isRequired}).isRequired,custom:l().object}).isRequired};const Qn=bn;var Jn=e(6102),qn=e(32104),er=(a,n,r)=>new Promise((m,E)=>{var y=g=>{try{c(r.next(g))}catch(v){E(v)}},d=g=>{try{c(r.throw(g))}catch(v){E(v)}},c=g=>g.done?m(g.value):Promise.resolve(g.value).then(y,d);c((r=r.apply(a,n)).next())});(()=>er(void 0,null,function*(){yield e.e(7723).then(e.bind(e,5403)),yield e.e(7566).then(e.bind(e,56831)),yield e.e(8e3).then(e.t.bind(e,94563,23)),yield e.e(7784).then(e.bind(e,74063))}))();const tr=Ne.createGlobalStyle`
  body {
    background: ${({theme:a})=>a.colors.neutral100};
  }
`,In=({children:a})=>{const{currentTheme:n,themes:r}=(0,qn.M1)();return t.createElement(Jn.ThemeProvider,{theme:r[n]||r.light},a,t.createElement(tr,null))};In.propTypes={children:l().element.isRequired};const sr=In,nr=new hs.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),_n=({authLogo:a,children:n,components:r,fields:m,getAdminInjectedComponents:E,getPlugin:y,localeNames:d,menu:c,menuLogo:g,messages:v,plugins:G,runHookParallel:V,runHookSeries:oe,runHookWaterfall:ae,settings:$,showReleaseNotification:Me,showTutorials:De,store:_e,themes:Dt})=>t.createElement(Qn,{themes:Dt},t.createElement(sr,null,t.createElement(hs.QueryClientProvider,{client:nr},t.createElement(Es.zt,{store:_e},t.createElement(Vt.ux.Provider,{value:{getAdminInjectedComponents:E}},t.createElement(Vt._5.Provider,{value:{authLogo:a,menuLogo:g,showReleaseNotification:Me,showTutorials:De}},t.createElement(P.StrapiAppProvider,{getPlugin:y,menu:c,plugins:G,runHookParallel:V,runHookWaterfall:ae,runHookSeries:oe,settings:$},t.createElement(P.LibraryProvider,{components:r,fields:m},t.createElement(tn,{messages:v,localeNames:d},t.createElement(Kn,null,t.createElement(Xn,null,t.createElement(K,null,t.createElement($n,null,n)))))))))))));_n.propTypes={authLogo:l().oneOfType([l().string,l().any]).isRequired,children:l().element.isRequired,components:l().object.isRequired,fields:l().object.isRequired,getAdminInjectedComponents:l().func.isRequired,getPlugin:l().func.isRequired,localeNames:l().objectOf(l().string).isRequired,menu:l().arrayOf(l().shape({to:l().string.isRequired,icon:l().func.isRequired,intlLabel:l().shape({id:l().string.isRequired,defaultMessage:l().string.isRequired}).isRequired,permissions:l().array,Component:l().func})).isRequired,menuLogo:l().oneOfType([l().string,l().any]).isRequired,messages:l().object.isRequired,plugins:l().object.isRequired,runHookParallel:l().func.isRequired,runHookWaterfall:l().func.isRequired,runHookSeries:l().func.isRequired,settings:l().object.isRequired,showReleaseNotification:l().bool.isRequired,showTutorials:l().bool.isRequired,store:l().object.isRequired,themes:l().shape({light:l().shape({colors:l().object.isRequired,shadows:l().object.isRequired,sizes:l().object.isRequired,zIndices:l().array.isRequired,spaces:l().array.isRequired,borderRadius:l().string.isRequired,mediaQueries:l().object.isRequired,fontSizes:l().array.isRequired,lineHeights:l().array.isRequired,fontWeights:l().object.isRequired}).isRequired,dark:l().shape({colors:l().object.isRequired,shadows:l().object.isRequired,sizes:l().object.isRequired,zIndices:l().array.isRequired,spaces:l().array.isRequired,borderRadius:l().string.isRequired,mediaQueries:l().object.isRequired,fontSizes:l().array.isRequired,lineHeights:l().array.isRequired,fontWeights:l().object.isRequired}).isRequired,custom:l().object}).isRequired};const rr=_n,or={ar:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",cs:"\u010Ce\u0161tina",de:"Deutsch",dk:"Dansk",en:"English",es:"Espa\xF1ol",fr:"Fran\xE7ais",he:"\u05E2\u05D1\u05E8\u05D9\u05EA",hu:"Magyar",id:"Indonesian",it:"Italiano",ja:"\u65E5\u672C\u8A9E",ko:"\uD55C\uAD6D\uC5B4",ms:"Melayu",nl:"Nederlands",no:"Norwegian",pl:"Polski","pt-BR":"Portugu\xEAs (Brasil)",pt:"Portugu\xEAs (Portugal)",ru:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",sk:"Sloven\u010Dina",sv:"Swedish",th:"\u0E44\u0E17\u0E22",tr:"T\xFCrk\xE7e",uk:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",vi:"Ti\u1EBFng Vi\u1EC7t","zh-Hans":"\u4E2D\u6587 (\u7B80\u4F53)",zh:"\u4E2D\u6587 (\u7E41\u9AD4)"};var Ms=e(17907);const ar={admin:{tutorials:{links:[]}},contentManager:{editView:{informations:[],"right-links":[]},listView:{actions:[],deleteModalAdditionalInfos:[]}}};var ir=e(85764),lr=e(25108),ur=Object.defineProperty,dr=Object.defineProperties,cr=Object.getOwnPropertyDescriptors,jn=Object.getOwnPropertySymbols,pr=Object.prototype.hasOwnProperty,mr=Object.prototype.propertyIsEnumerable,un=(a,n,r)=>n in a?ur(a,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[n]=r,kt=(a,n)=>{for(var r in n||(n={}))pr.call(n,r)&&un(a,r,n[r]);if(jn)for(var r of jn(n))mr.call(n,r)&&un(a,r,n[r]);return a},fr=(a,n)=>dr(a,cr(n)),Ce=(a,n,r)=>(un(a,typeof n!="symbol"?n+"":n,r),r),xt=(a,n,r)=>new Promise((m,E)=>{var y=g=>{try{c(r.next(g))}catch(v){E(v)}},d=g=>{try{c(r.throw(g))}catch(v){E(v)}},c=g=>g.done?m(g.value):Promise.resolve(g.value).then(y,d);c((r=r.apply(a,n)).next())});class gr{constructor({adminConfig:n,appPlugins:r,library:m,middlewares:E,reducers:y}){Ce(this,"addComponents",d=>{Array.isArray(d)?d.map(c=>this.library.components.add(c)):this.library.components.add(d)}),Ce(this,"addCorePluginMenuLink",d=>{var c,g;const v=JSON.stringify(d);D()(d.to,`link.to should be defined for ${v}`),D()(typeof d.to=="string",`Expected link.to to be a string instead received ${typeof d.to}`),D()(["/plugins/content-type-builder","/plugins/upload"].includes(d.to),"This method is not available for your plugin"),D()(((c=d.intlLabel)==null?void 0:c.id)&&((g=d.intlLabel)==null?void 0:g.defaultMessage),`link.intlLabel.id & link.intlLabel.defaultMessage for ${v}`),this.menu.push(d)}),Ce(this,"addFields",d=>{Array.isArray(d)?d.map(c=>this.library.fields.add(c)):this.library.fields.add(d)}),Ce(this,"addMenuLink",d=>{var c,g;const v=JSON.stringify(d);D()(d.to,`link.to should be defined for ${v}`),D()(typeof d.to=="string",`Expected link.to to be a string instead received ${typeof d.to}`),D()(((c=d.intlLabel)==null?void 0:c.id)&&((g=d.intlLabel)==null?void 0:g.defaultMessage),`link.intlLabel.id & link.intlLabel.defaultMessage for ${v}`),D()(d.Component&&typeof d.Component=="function","link.Component should be a valid React Component"),D()(d.icon&&typeof d.icon=="function","link.Icon should be a valid React Component"),this.menu.push(d)}),Ce(this,"addMiddlewares",d=>{d.forEach(c=>{this.middlewares.add(c)})}),Ce(this,"addReducers",d=>{Object.keys(d).forEach(c=>{this.reducers.add(c,d[c])})}),Ce(this,"addSettingsLink",(d,c)=>{var g,v;D()(this.settings[d],"The section does not exist");const G=JSON.stringify(c);D()(c.id,`link.id should be defined for ${G}`),D()(((g=c.intlLabel)==null?void 0:g.id)&&((v=c.intlLabel)==null?void 0:v.defaultMessage),`link.intlLabel.id & link.intlLabel.defaultMessage for ${G}`),D()(c.to,`link.to should be defined for ${G}`),D()(c.Component&&typeof c.Component=="function","link.Component should be a valid React Component"),this.settings[d].links.push(c)}),Ce(this,"addSettingsLinks",(d,c)=>{D()(this.settings[d],"The section does not exist"),D()(Array.isArray(c),"TypeError expected links to be an array"),c.forEach(g=>{this.addSettingsLink(d,g)})}),Ce(this,"bootstrapAdmin",()=>xt(this,null,function*(){return yield this.createCustomConfigurations(),this.createHook(Ms.No),this.createHook(Ms.LK),this.createHook(Ms.dV),this.createHook(Ms.Eo),Promise.resolve()})),Ce(this,"createCustomConfigurations",()=>xt(this,null,function*(){var d,c,g,v,G,V,oe,ae,$,Me,De,_e;(d=this.customConfigurations)!=null&&d.locales&&(this.configurations.locales=["en",...(c=this.customConfigurations.locales)==null?void 0:c.filter(Dt=>Dt!=="en")]),(v=(g=this.customConfigurations)==null?void 0:g.auth)!=null&&v.logo&&(this.configurations.authLogo=this.customConfigurations.auth.logo),(V=(G=this.customConfigurations)==null?void 0:G.menu)!=null&&V.logo&&(this.configurations.menuLogo=this.customConfigurations.menu.logo),(ae=(oe=this.customConfigurations)==null?void 0:oe.head)!=null&&ae.favicon&&(this.configurations.head.favicon=this.customConfigurations.head.favicon),($=this.customConfigurations)!=null&&$.theme&&I()(this.configurations.themes.light,this.customConfigurations.theme),((De=(Me=this.customConfigurations)==null?void 0:Me.notifications)==null?void 0:De.releases)!==void 0&&(this.configurations.notifications.releases=this.customConfigurations.notifications.releases),((_e=this.customConfigurations)==null?void 0:_e.tutorials)!==void 0&&(this.configurations.tutorials=this.customConfigurations.tutorials)})),Ce(this,"createHook",d=>{this.hooksDict[d]=(0,H.Bi)()}),Ce(this,"createSettingSection",(d,c)=>{var g,v;D()(d.id,"section.id should be defined"),D()(((g=d.intlLabel)==null?void 0:g.id)&&((v=d.intlLabel)==null?void 0:v.defaultMessage),"section.intlLabel should be defined"),D()(Array.isArray(c),"TypeError expected links to be an array"),D()(this.settings[d.id]===void 0,"A similar section already exists"),this.settings[d.id]=fr(kt({},d),{links:[]}),c.forEach(G=>{this.addSettingsLink(d.id,G)})}),Ce(this,"createStore",()=>Q(this.middlewares.middlewares,this.reducers.reducers)),Ce(this,"getAdminInjectedComponents",(d,c,g)=>{try{return this.admin.injectionZones[d][c][g]||[]}catch(v){return lr.error("Cannot get injected component",v),v}}),Ce(this,"getPlugin",d=>this.plugins[d]),Ce(this,"injectContentManagerComponent",(d,c,g)=>{var v;D()((v=this.admin.injectionZones.contentManager[d])==null?void 0:v[c],`The ${d} ${c} zone is not defined in the content manager`),D()(g,"A Component must be provided"),this.admin.injectionZones.contentManager[d][c].push(g)}),Ce(this,"injectAdminComponent",(d,c,g)=>{var v;D()((v=this.admin.injectionZones.admin[d])==null?void 0:v[c],`The ${d} ${c} zone is not defined in the admin`),D()(g,"A Component must be provided"),this.admin.injectionZones.admin[d][c].push(g)}),Ce(this,"registerHook",(d,c)=>{D()(this.hooksDict[d],`The hook ${d} is not defined. You are trying to register a hook that does not exist in the application.`),this.hooksDict[d].register(c)}),Ce(this,"registerPlugin",d=>{const c=(0,se.Sy)(d);this.plugins[c.pluginId]=c}),Ce(this,"runHookSeries",(d,c=!1)=>c?this.hooksDict[d].runSeriesAsync():this.hooksDict[d].runSeries()),Ce(this,"runHookWaterfall",(d,c,g=!1,v)=>g?this.hooksDict[d].runWaterfallAsync(c,v):this.hooksDict[d].runWaterfall(c,v)),Ce(this,"runHookParallel",d=>this.hooksDict[d].runParallel()),this.customConfigurations=n.config,this.customBootstrapConfiguration=n.bootstrap,this.configurations={authLogo:Zs,head:{favicon:ir},locales:["en"],menuLogo:Hs,notifications:{releases:!0},themes:{light:i.lightTheme,dark:i.darkTheme},translations:{},tutorials:!0},this.appPlugins=r||{},this.library=m,this.middlewares=E,this.plugins={},this.reducers=y,this.translations={},this.hooksDict={},this.admin={injectionZones:ar},this.menu=[],this.settings={global:{id:"global",intlLabel:{id:"Settings.global",defaultMessage:"Global Settings"},links:[]}}}bootstrap(){return xt(this,null,function*(){Object.keys(this.appPlugins).forEach(n=>{const r=this.appPlugins[n].bootstrap;r&&r({addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}),ie()(this.customBootstrapConfiguration)&&this.customBootstrapConfiguration({addComponents:this.addComponents,addFields:this.addFields,addMenuLink:this.addMenuLink,addReducers:this.addReducers,addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})})}initialize(){return xt(this,null,function*(){Object.keys(this.appPlugins).forEach(n=>{this.appPlugins[n].register({addComponents:this.addComponents,addCorePluginMenuLink:this.addCorePluginMenuLink,addFields:this.addFields,addMenuLink:this.addMenuLink,addMiddlewares:this.addMiddlewares,addReducers:this.addReducers,createHook:this.createHook,createSettingSection:this.createSettingSection,registerPlugin:this.registerPlugin})})})}loadAdminTrads(){return xt(this,null,function*(){const n=this.configurations.locales.map(E=>e(95423)(`./${E}.json`).then(({default:y})=>({data:y,locale:E})).catch(()=>({data:null,locale:E})));return(yield Promise.all(n)).reduce((E,y)=>(y.data&&(E[y.locale]=y.data),E),{})})}loadTrads(){return xt(this,null,function*(){const n=yield this.loadAdminTrads(),r=Object.keys(this.appPlugins).map(d=>{const c=this.appPlugins[d].registerTrads;return c?c({locales:this.configurations.locales}):null}).filter(d=>d),E=(yield Promise.all(r)).reduce((d,c)=>{const g=c.reduce((v,G)=>(v[G.locale]=G.data,v),{});return Object.keys(g).forEach(v=>{d[v]=kt(kt({},d[v]),g[v])}),d},{}),y=this.configurations.locales.reduce((d,c)=>{var g,v;return d[c]=kt(kt(kt({},n[c]),E[c]||{}),(v=(g=this.customConfigurations)==null?void 0:g.translations)==null?void 0:v[c]),d},{});return this.configurations.translations=y,Promise.resolve()})}render(){const n=this.createStore(),r=N()(or,this.configurations.locales||[]),{components:{components:m},fields:{fields:E}}=this.library;return t.createElement(rr,{authLogo:this.configurations.authLogo,components:m,fields:E,localeNames:r,getAdminInjectedComponents:this.getAdminInjectedComponents,getPlugin:this.getPlugin,messages:this.configurations.translations,menu:this.menu,menuLogo:this.configurations.menuLogo,plugins:this.plugins,runHookParallel:this.runHookParallel,runHookWaterfall:(y,d,c=!1)=>this.runHookWaterfall(y,d,c,n),runHookSeries:this.runHookSeries,themes:this.configurations.themes,settings:this.settings,showTutorials:this.configurations.tutorials,showReleaseNotification:this.configurations.notifications.releases,store:n},t.createElement(t.Fragment,null,t.createElement(q.Helmet,{link:[{rel:"icon",type:"image/png",href:this.configurations.head.favicon}]}),t.createElement(p.BrowserRouter,{basename:H.EZ},t.createElement(Gs,{store:n}))))}}const hr=({adminConfig:a={},appPlugins:n,library:r,middlewares:m,reducers:E})=>new gr({adminConfig:a,appPlugins:n,library:r,middlewares:m,reducers:E})},78033:(J,M,e)=>{"use strict";e.d(M,{Z:()=>i});var t=e(53547);const i=(0,t.createContext)()},20088:(J,M,e)=>{"use strict";e.d(M,{Z:()=>T});var t=e(53547),p=e(78033);const T=()=>{const{changeLocale:I,localeNames:S,messages:N}=(0,t.useContext)(p.Z);return{changeLocale:I,localeNames:S,messages:N}}},87173:(J,M,e)=>{"use strict";e.d(M,{Z:()=>S});var t=e(53547),p=e(16384),i=e(32104);const T=p.default.img`
  height: ${72/16}rem;
`,S=()=>{const{authLogo:N}=(0,i.um)();return t.createElement(T,{src:N,"aria-hidden":!0,alt:""})}},40448:(J,M,e)=>{"use strict";e.d(M,{ux:()=>i,_5:()=>I,$l:()=>N,Rj:()=>ie});var t=e(53547);const i=(0,t.createContext)({}),I=(0,t.createContext)({}),N=(0,t.createContext)({}),ie=(0,t.createContext)({})},17907:(J,M,e)=>{"use strict";e.d(M,{No:()=>t,LK:()=>p,Eo:()=>i,dV:()=>T});const t="Admin/CM/pages/ListView/inject-column-in-table",p="Admin/CM/pages/App/mutate-collection-types-links",i="Admin/CM/pages/EditView/mutate-edit-view-layout",T="Admin/CM/pages/App/mutate-single-types-links"},32104:(J,M,e)=>{"use strict";e.d(M,{um:()=>t.Z,U_:()=>ot,Dq:()=>ke,H9:()=>_t,bP:()=>se,$_:()=>nn,bF:()=>ds,G4:()=>sn,Te:()=>zs,M1:()=>an});var t=e(80380),p=e(53547),i=e(68547),T=e(8041);const I={collectionTypes:[],components:[],isLoading:!0,singleTypes:[]},N=(u,o)=>(0,T.default)(u,s=>{switch(o.type){case"GET_MODELS":{s.collectionTypes=I.collectionTypes,s.singleTypes=I.singleTypes,s.components=I.components,s.isLoading=!0;break}case"GET_MODELS_ERROR":{s.collectionTypes=I.collectionTypes,s.singleTypes=I.singleTypes,s.components=I.components,s.isLoading=!1;break}case"GET_MODELS_SUCCEDED":{const C=A=>o.contentTypes.filter(W=>W.isDisplayed&&W.kind===A);s.isLoading=!1,s.collectionTypes=C("collectionType"),s.singleTypes=C("singleType"),s.components=o.components;break}default:return s}});var ee=Object.defineProperty,ie=Object.defineProperties,te=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,R=(u,o,s)=>o in u?ee(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,B=(u,o)=>{for(var s in o||(o={}))q.call(o,s)&&R(u,s,o[s]);if(D)for(var s of D(o))H.call(o,s)&&R(u,s,o[s]);return u},b=(u,o)=>ie(u,te(o)),z=(u,o,s)=>new Promise((C,A)=>{var W=h=>{try{L(s.next(h))}catch(F){A(F)}},K=h=>{try{L(s.throw(h))}catch(F){A(F)}},L=h=>h.done?C(h.value):Promise.resolve(h.value).then(W,K);L((s=s.apply(u,o)).next())});const se=()=>{const u=(0,i.useNotification)(),[o,s]=(0,p.useReducer)(N,I);(0,p.useEffect)(()=>{C()},[]);const C=()=>z(void 0,null,function*(){s({type:"GET_MODELS"});try{const[{data:A},{data:W}]=yield Promise.all(["components","content-types"].map(K=>(0,i.request)(`/content-manager/${K}`,{method:"GET"})));s({type:"GET_MODELS_SUCCEDED",contentTypes:W,components:A})}catch(A){s({type:"GET_MODELS_ERROR"}),u({type:"warning",message:{id:"notification.error"}})}});return b(B({},o),{getData:C})},P={data:{},error:null,isLoading:!0},le=(u,o)=>(0,T.default)(u,s=>{switch(o.type){case"GET_DATA":{s.isLoading=!0,s.data={},s.error=null;break}case"GET_DATA_SUCCEEDED":{s.data=o.data,s.isLoading=!1,s.error=null;break}case"GET_DATA_ERROR":{s.isLoading=!1,s.error=o.error;break}default:return s}});var st=(u,o,s)=>new Promise((C,A)=>{var W=h=>{try{L(s.next(h))}catch(F){A(F)}},K=h=>{try{L(s.throw(h))}catch(F){A(F)}},L=h=>h.done?C(h.value):Promise.resolve(h.value).then(W,K);L((s=s.apply(u,o)).next())});const ot=u=>{const[{data:o,error:s,isLoading:C},A]=(0,p.useReducer)(le,P);return(0,p.useEffect)(()=>{(()=>st(void 0,null,function*(){A({type:"GET_DATA"});const{data:K}=yield(0,i.request)("/admin/permissions",{method:"GET",params:{role:u}});A({type:"GET_DATA_SUCCEEDED",data:K})}))()},[u]),{data:o,error:s,isLoading:C}},ze={role:{},permissions:{},isLoading:!0},We=(u,o)=>(0,T.default)(u,s=>{switch(o.type){case"GET_DATA_SUCCEEDED":{s.role=o.role,s.permissions=o.permissions,s.isLoading=!1;break}case"GET_DATA_ERROR":{s.isLoading=!1;break}case"ON_SUBMIT_SUCCEEDED":{s.role.name=o.name,s.role.description=o.description;break}default:return s}});var ut=e(25108),me=Object.defineProperty,Oe=Object.defineProperties,ue=Object.getOwnPropertyDescriptors,fe=Object.getOwnPropertySymbols,ne=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable,k=(u,o,s)=>o in u?me(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,U=(u,o)=>{for(var s in o||(o={}))ne.call(o,s)&&k(u,s,o[s]);if(fe)for(var s of fe(o))ce.call(o,s)&&k(u,s,o[s]);return u},_=(u,o)=>Oe(u,ue(o)),we=(u,o,s)=>new Promise((C,A)=>{var W=h=>{try{L(s.next(h))}catch(F){A(F)}},K=h=>{try{L(s.throw(h))}catch(F){A(F)}},L=h=>h.done?C(h.value):Promise.resolve(h.value).then(W,K);L((s=s.apply(u,o)).next())});const ke=u=>{const o=(0,i.useNotification)(),[s,C]=(0,p.useReducer)(We,ze);(0,p.useEffect)(()=>{u?A(u):C({type:"GET_DATA_SUCCEEDED",role:{},permissions:[]})},[u]);const A=K=>we(void 0,null,function*(){try{const[{data:L},{data:h}]=yield Promise.all([`roles/${K}`,`roles/${K}/permissions`].map(F=>(0,i.request)(`/admin/${F}`,{method:"GET"})));C({type:"GET_DATA_SUCCEEDED",role:L,permissions:h})}catch(L){ut.error(L),C({type:"GET_DATA_ERROR"}),o({type:"warning",message:{id:"notification.error"}})}}),W=(0,p.useCallback)(K=>{C(U({type:"ON_SUBMIT_SUCCEEDED"},K))},[]);return _(U({},s),{onSubmitSucceeded:W})},X=(u,o)=>o.map(({permissions:s})=>(0,i.hasPermissions)(u,s));var ge=(u,o,s)=>new Promise((C,A)=>{var W=h=>{try{L(s.next(h))}catch(F){A(F)}},K=h=>{try{L(s.throw(h))}catch(F){A(F)}},L=h=>h.done?C(h.value):Promise.resolve(h.value).then(W,K);L((s=s.apply(u,o)).next())});const be=(u,o)=>ge(void 0,null,function*(){const s=X(u,o),C=yield Promise.all(s);return o.filter((W,K)=>C[K])});var Ot=e(50361),Tt=e.n(Ot),bt=(u,o,s)=>new Promise((C,A)=>{var W=h=>{try{L(s.next(h))}catch(F){A(F)}},K=h=>{try{L(s.throw(h))}catch(F){A(F)}},L=h=>h.done?C(h.value):Promise.resolve(h.value).then(W,K);L((s=s.apply(u,o)).next())});const re=(u,o,s)=>bt(void 0,null,function*(){const C=X(u,o),A=yield Promise.all(C),W=o.filter((h,F)=>A[F]),K=W.findIndex(h=>h.to==="/settings");if(K===-1)return[];const L=Tt()(W);return L[K].notificationsCount=s?1:0,L});var at=e(17581),pe=e.n(at),mt=e(19880),Te=e.n(mt),ft=e(88216),xe=e.n(ft),Fe=e(92699);const Ie={generalSectionLinks:[{icon:Te(),intlLabel:{id:"global.plugins",defaultMessage:"Plugins"},to:"/list-plugins",permissions:Fe.Z.marketplace.main},{icon:xe(),intlLabel:{id:"global.marketplace",defaultMessage:"Marketplace"},to:"/marketplace",permissions:Fe.Z.marketplace.main},{icon:pe(),intlLabel:{id:"global.settings",defaultMessage:"Settings"},to:"/settings",permissions:[],notificationsCount:0}],pluginsSectionLinks:[],isLoading:!0},Rt=(u=Ie,o)=>(0,T.default)(u,s=>{switch(o.type){case"SET_SECTION_LINKS":{const{authorizedGeneralSectionLinks:C,authorizedPluginSectionLinks:A}=o.data;s.generalSectionLinks=C,s.pluginsSectionLinks=A;break}case"UNSET_IS_LOADING":{s.isLoading=!1;break}default:return s}});var dt=(u,o,s)=>new Promise((C,A)=>{var W=h=>{try{L(s.next(h))}catch(F){A(F)}},K=h=>{try{L(s.throw(h))}catch(F){A(F)}},L=h=>h.done?C(h.value):Promise.resolve(h.value).then(W,K);L((s=s.apply(u,o)).next())});const _t=()=>{const[u,o]=(0,p.useReducer)(Rt,Ie),{allPermissions:s}=(0,i.useRBACProvider)(),{shouldUpdateStrapi:C}=(0,i.useAppInfos)(),{menu:A}=(0,i.useStrapiApp)(),W=(0,p.useRef)(u.generalSectionLinks),K=(0,p.useRef)(C),L=(...F)=>dt(void 0,[...F],function*(Xe=s){const yt=yield be(Xe,A),Mt=yield re(Xe,W.current,K.current);o({type:"SET_SECTION_LINKS",data:{authorizedGeneralSectionLinks:Mt,authorizedPluginSectionLinks:yt}}),o({type:"UNSET_IS_LOADING"})}),h=(0,p.useRef)(L);return(0,p.useEffect)(()=>{h.current(s)},[s,o]),u};var Kt=e(27361),Bt=e.n(Kt),Re=e(63955),nt=Object.defineProperty,gt=Object.defineProperties,Ze=Object.getOwnPropertyDescriptors,Ae=Object.getOwnPropertySymbols,Qe=Object.prototype.hasOwnProperty,Ne=Object.prototype.propertyIsEnumerable,At=(u,o,s)=>o in u?nt(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,Ct=(u,o)=>{for(var s in o||(o={}))Qe.call(o,s)&&At(u,s,o[s]);if(Ae)for(var s of Ae(o))Ne.call(o,s)&&At(u,s,o[s]);return u},jt=(u,o)=>gt(u,Ze(o));const Zt=(u,o)=>jt(Ct({},u),{isLoading:o}),Ht={roles:[],isLoading:!0},As=(u,o)=>(0,T.default)(u,s=>{switch(o.type){case"GET_DATA":{s.isLoading=!0,s.roles=[];break}case"GET_DATA_SUCCEEDED":{s.roles=o.data,s.isLoading=!1;break}case"GET_DATA_ERROR":{s.isLoading=!1;break}default:return s}});var Cs=(u,o,s)=>new Promise((C,A)=>{var W=h=>{try{L(s.next(h))}catch(F){A(F)}},K=h=>{try{L(s.throw(h))}catch(F){A(F)}},L=h=>h.done?C(h.value):Promise.resolve(h.value).then(W,K);L((s=s.apply(u,o)).next())});const ds=(u=!0)=>{const o=(0,i.useNotification)(),[{roles:s,isLoading:C},A]=(0,p.useReducer)(As,Ht,()=>Zt(Ht,u));(0,p.useEffect)(()=>{u&&W()},[u]);const W=(0,p.useCallback)(()=>Cs(void 0,null,function*(){try{A({type:"GET_DATA"});const{data:{data:K}}=yield Re.be.get("/admin/roles");A({type:"GET_DATA_SUCCEEDED",data:K})}catch(K){const L=Bt()(K,["response","payload","message"],"An error occured");A({type:"GET_DATA_ERROR"}),L!=="Forbidden"&&o({type:"warning",message:L})}}),[o]);return{roles:s,isLoading:C,getData:W}};var it=e(96486);const cs={menu:[],isLoading:!0},Ds=(u,o)=>(0,T.default)(u,s=>{switch(o.type){case"CHECK_PERMISSIONS_SUCCEEDED":{o.data.forEach(C=>{C.hasPermission&&(0,it.set)(s,["menu",...C.path.split("."),"isDisplayed"],C.hasPermission)}),s.menu.forEach((C,A)=>{s.menu[A].links=C.links.filter(W=>W.isDisplayed===!0)}),s.isLoading=!1;break}default:return s}});var bs=e(57557),Is=e.n(bs),mn=e(89734),_s=e.n(mn);const fn=u=>_s()(u,o=>o.id);var ws=Object.defineProperty,Bs=Object.defineProperties,Us=Object.getOwnPropertyDescriptors,ps=Object.getOwnPropertySymbols,ks=Object.prototype.hasOwnProperty,xs=Object.prototype.propertyIsEnumerable,$t=(u,o,s)=>o in u?ws(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,ms=(u,o)=>{for(var s in o||(o={}))ks.call(o,s)&&$t(u,s,o[s]);if(ps)for(var s of ps(o))xs.call(o,s)&&$t(u,s,o[s]);return u},fs=(u,o)=>Bs(u,Us(o));const gs=u=>u.map(o=>{const s=o.links.map(C=>fs(ms({},C),{isDisplayed:!1}));return fs(ms({},o),{links:s})});var zt=e(42982);const Ns=[{intlLabel:{id:"Settings.application.title",defaultMessage:"Overview"},to:"/settings/application-infos",id:"000-application-infos",isDisplayed:!1,permissions:[]},{intlLabel:{id:"Settings.webhooks.title",defaultMessage:"Webhooks"},to:"/settings/webhooks",id:"webhooks",isDisplayed:!1,permissions:Fe.Z.settings.webhooks.main},{intlLabel:{id:"Settings.apiTokens.title",defaultMessage:"API Tokens"},to:"/settings/api-tokens?sort=name:ASC",id:"api-tokens",isDisplayed:!1,permissions:Fe.Z.settings["api-tokens"].main}];var Ks=function(){return window&&window.strapi&&window.strapi.isEE?e(43202).Z:e(41729).Z}();const Gs=[].concat((0,zt.Z)(Ns),(0,zt.Z)(Ks));var Zs=Object.defineProperty,Hs=Object.defineProperties,hs=Object.getOwnPropertyDescriptors,Es=Object.getOwnPropertySymbols,Vt=Object.prototype.hasOwnProperty,$s=Object.prototype.propertyIsEnumerable,vs=(u,o,s)=>o in u?Zs(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,Xt=(u,o)=>{for(var s in o||(o={}))Vt.call(o,s)&&vs(u,s,o[s]);if(Es)for(var s of Es(o))$s.call(o,s)&&vs(u,s,o[s]);return u},Ut=(u,o)=>Hs(u,hs(o));const hn=(u,{settings:o,shouldUpdateStrapi:s})=>{const C=o.global.links,A=fn([...C,...Gs]).map(L=>Ut(Xt({},L),{hasNotification:L.id==="000-application-infos"&&s})),W=Object.values(Is()(o,"global")),K=[Ut(Xt({},o.global),{links:A}),{id:"permissions",intlLabel:{id:"Settings.permissions",defaultMessage:"Administration Panel"},links:[{intlLabel:{id:"global.roles",defaultMessage:"Roles"},to:"/settings/roles",id:"roles",isDisplayed:!1,permissions:Fe.Z.settings.roles.main},{intlLabel:{id:"global.users"},to:"/settings/users?pageSize=10&page=1&sort=firstname",id:"users",isDisplayed:!1,permissions:Fe.Z.settings.users.main}]},...W];return Ut(Xt({},u),{menu:gs(K)})};var Yt=(u,o,s)=>new Promise((C,A)=>{var W=h=>{try{L(s.next(h))}catch(F){A(F)}},K=h=>{try{L(s.throw(h))}catch(F){A(F)}},L=h=>h.done?C(h.value):Promise.resolve(h.value).then(W,K);L((s=s.apply(u,o)).next())});const zs=(u=!1)=>{const{allPermissions:o}=(0,i.useRBACProvider)(),{shouldUpdateStrapi:s}=(0,i.useAppInfos)(),{settings:C}=(0,i.useStrapiApp)(),[{isLoading:A,menu:W},K]=(0,p.useReducer)(Ds,cs,()=>hn(cs,{settings:C,shouldUpdateStrapi:s}));return(0,p.useEffect)(()=>{u||(()=>Yt(void 0,null,function*(){const h=(yt,Mt)=>Yt(this,null,function*(){return{hasPermission:yield(0,i.hasPermissions)(o,yt),path:Mt}}),Xe=(yt=>yt.reduce((Mt,es,ts)=>{const wt=ss=>ss.map((Lt,Je)=>h(ss[Je].permissions,`${ts}.links.${Je}`));return[...Mt,...wt(es.links)]},[]))(W),St=yield Promise.all(Xe);K({type:"CHECK_PERMISSIONS_SUCCEEDED",data:St})}))()},[o,u]),{isLoading:A,menu:W}};var ys=e(58836);const Ps={fieldsToPick:[],formErrors:{},initialData:{},isLoading:!0,modifiedData:{},showHeaderButtonLoader:!1,showHeaderLoader:!0},Vs=(u,o)=>(0,T.default)(u,s=>{switch(o.type){case"GET_DATA_SUCCEEDED":{s.isLoading=!1,s.showHeaderLoader=!1,s.initialData=(0,it.pick)(o.data,u.fieldsToPick),s.modifiedData=(0,it.pick)(o.data,u.fieldsToPick);break}case"ON_CANCEL":{s.modifiedData=u.initialData,s.formErrors={};break}case"ON_CHANGE":{o.inputType==="password"&&!o.value?(0,it.unset)(s.modifiedData,o.keys.split(".")):o.keys.includes("username")&&!o.value?(0,it.set)(s.modifiedData,o.keys.split("."),null):(0,it.set)(s.modifiedData,o.keys.split("."),o.value);break}case"ON_SUBMIT":{s.showHeaderButtonLoader=!0;break}case"ON_SUBMIT_SUCCEEDED":{s.initialData=(0,it.pick)(o.data,u.fieldsToPick),s.modifiedData=(0,it.pick)(o.data,u.fieldsToPick),s.showHeaderButtonLoader=!1;break}case"SET_ERRORS":{s.formErrors=o.errors,s.showHeaderButtonLoader=!1;break}default:return s}});var Os=Object.defineProperty,Xs=Object.defineProperties,Ys=Object.getOwnPropertyDescriptors,Qt=Object.getOwnPropertySymbols,Qs=Object.prototype.hasOwnProperty,Js=Object.prototype.propertyIsEnumerable,Jt=(u,o,s)=>o in u?Os(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,En=(u,o)=>{for(var s in o||(o={}))Qs.call(o,s)&&Jt(u,s,o[s]);if(Qt)for(var s of Qt(o))Js.call(o,s)&&Jt(u,s,o[s]);return u},qs=(u,o)=>Xs(u,Ys(o));const tn=(u,o)=>qs(En({},u),{fieldsToPick:o});var vn=e(25108),Ts=(u,o,s)=>new Promise((C,A)=>{var W=h=>{try{L(s.next(h))}catch(F){A(F)}},K=h=>{try{L(s.throw(h))}catch(F){A(F)}},L=h=>h.done?C(h.value):Promise.resolve(h.value).then(W,K);L((s=s.apply(u,o)).next())});const sn=(u,o,s,C)=>{const[{formErrors:A,initialData:W,isLoading:K,modifiedData:L,showHeaderButtonLoader:h,showHeaderLoader:F},Xe]=(0,p.useReducer)(Vs,Ps,()=>tn(Ps,C)),St=(0,i.useNotification)(),{lockApp:yt,unlockApp:Mt}=(0,i.useOverlayBlocker)();return(0,p.useEffect)(()=>{u&&(()=>Ts(void 0,null,function*(){try{const{data:Je}=yield(0,i.request)(u,{method:"GET"});Xe({type:"GET_DATA_SUCCEEDED",data:Je,fieldsToPick:C})}catch(Je){vn.error(Je.response),St({type:"warning",message:{id:"notification.error"}})}}))()},[u]),[{formErrors:A,initialData:W,isLoading:K,modifiedData:L,showHeaderButtonLoader:h,showHeaderLoader:F},Xe,{handleCancel:()=>{Xe({type:"ON_CANCEL"})},handleChange:({target:{name:Lt,value:Je,type:ht}})=>{Xe({type:"ON_CHANGE",inputType:ht,keys:Lt,value:Je})},handleSubmit:Lt=>Ts(void 0,null,function*(){Lt.preventDefault();const Je=yield(0,ys.R6)(L,o);if(Xe({type:"SET_ERRORS",errors:Je||{}}),!Je)try{yt(),Xe({type:"ON_SUBMIT"});const ht=(0,it.omit)(L,["confirmPassword","registrationToken"]);ht.roles&&(ht.roles=ht.roles.map(ns=>ns.id));const{data:Pt}=yield(0,i.request)(u,{method:"PUT",body:ht});s(Pt),Xe({type:"ON_SUBMIT_SUCCEEDED",data:Pt}),St({type:"success",message:{id:"notification.success.saved"}})}catch(ht){const Pt=(0,it.get)(ht,"response.payload",{data:{}});(0,it.has)(Pt,"data")&&typeof Pt.data=="string"?St({type:"warning",message:Pt.data}):St({type:"warning",message:Pt.message});const ns=(0,ys.Iz)(Pt);Xe({type:"SET_ERRORS",errors:ns})}finally{Mt()}}),setField:(Lt,Je)=>{Xe({type:"ON_CHANGE",keys:Lt,value:Je})}}]};var qt=e(40448);const nn=()=>(0,p.useContext)(qt.$l),rn=!JSON.parse(localStorage.getItem("STRAPI_UPDATE_NOTIF")),Rs=()=>{const{latestStrapiReleaseTag:u,shouldUpdateStrapi:o}=useAppInfos(),s=useNotification();return useEffect(()=>{o&&rn&&s({type:"info",message:{id:"notification.version.update.message"},link:{url:`https://github.com/strapi/strapi/releases/tag/${u}`,label:{id:"global.see-more"}},blockTransition:!0,onClose:()=>localStorage.setItem("STRAPI_UPDATE_NOTIF",!0)})},[u,o,s]),null},yn=null,an=()=>(0,p.useContext)(qt.Rj)},80380:(J,M,e)=>{"use strict";e.d(M,{Z:()=>T});var t=e(53547),p=e(40448);const T=()=>(0,t.useContext)(p._5)},41729:(J,M,e)=>{"use strict";e.d(M,{Z:()=>t});const t=[]},83137:(J,M,e)=>{"use strict";e.d(M,{sg:()=>H,bU:()=>R,ZP:()=>b});var t=e(53547),p=e(16384),i=e(45697),T=e.n(i),I=e(94117),S=e(40264),N=e(97132),ee=e(12615),ie=e(20088);const D=()=>{const{changeLocale:z,localeNames:Q}=(0,ie.Z)(),{locale:se}=(0,N.useIntl)();return t.createElement(ee.SimpleMenu,{label:Q[se]},Object.keys(Q).map(P=>t.createElement(ee.MenuItem,{onClick:()=>z(P),key:P},Q[P])))},q=(0,p.default)(I.Box)`
  margin: 0 auto;
  width: 552px;
`,H=(0,p.default)(S.Flex)`
  flex-direction: column;
`,R=({children:z})=>t.createElement(q,{shadow:"tableShadow",hasRadius:!0,paddingTop:9,paddingBottom:9,paddingLeft:10,paddingRight:10,background:"neutral0",justifyContent:"center"},z);R.propTypes={children:T().node.isRequired};const B=({children:z})=>t.createElement("div",null,t.createElement(S.Flex,{as:"header",justifyContent:"flex-end"},t.createElement(I.Box,{paddingTop:6,paddingRight:8},t.createElement(D,null))),t.createElement(I.Box,{paddingTop:2,paddingBottom:11},z));B.propTypes={children:T().node.isRequired};const b=B},36248:(J,M,e)=>{"use strict";e.d(M,{Z:()=>p});const p=[]},11145:(J,M,e)=>{"use strict";e.d(M,{Z:()=>I});var t=e(16384),p=e(16572),i=e.n(p);const I=(0,t.default)(p.FieldAction)`
  svg {
    height: 1rem;
    width: 1rem;
    path {
      fill: ${({theme:S})=>S.colors.neutral600};
    }
  }
`},13873:(J,M,e)=>{"use strict";e.d(M,{Z:()=>U});var t=e(53547),p=e(52973),i=e.n(p),T=e(31023),I=e.n(T),S=e(94117),N=e.n(S),ee=e(9524),ie=e.n(ee),te=e(80117),D=e.n(te),q=e(40264),H=e.n(q),R=e(56156),B=e.n(R),b=e(64459),z=e.n(b),Q=e(99136),se=e.n(Q),P=e(43499),w=e.n(P),le=e(33483),st=e.n(le),l=e(68547),ot=e.n(l),ze=e(45697),Ve=e.n(ze),We=e(97132),ut=e.n(We),me=e(16384),Oe=e(80831),ue=e(83137),fe=e(87173),ne=e(11145);const ce=(0,me.default)(Q.TextInput)`
  ::-ms-reveal {
    display: none;
  }
`,k=({onSubmit:_,schema:we,children:Le})=>{const[ke,Ee]=(0,t.useState)(!1),{formatMessage:X}=(0,We.useIntl)();return t.createElement(te.Main,null,t.createElement(ue.bU,null,t.createElement(Oe.Formik,{enableReinitialize:!0,initialValues:{email:"",password:"",rememberMe:!1},onSubmit:_,validationSchema:we,validateOnChange:!1},({values:ge,errors:Be,handleChange:be})=>t.createElement(l.Form,{noValidate:!0},t.createElement(ue.sg,null,t.createElement(fe.Z,null),t.createElement(S.Box,{paddingTop:6,paddingBottom:1},t.createElement(le.Typography,{variant:"alpha",as:"h1"},X({id:"Auth.form.welcome.title",defaultMessage:"Welcome!"}))),t.createElement(S.Box,{paddingBottom:7},t.createElement(le.Typography,{variant:"epsilon",textColor:"neutral600"},X({id:"Auth.form.welcome.subtitle",defaultMessage:"Log in to your Strapi account"}))),Be.errorMessage&&t.createElement(le.Typography,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},Be.errorMessage)),t.createElement(ee.Stack,{spacing:6},t.createElement(Q.TextInput,{error:Be.email?X({id:Be.email,defaultMessage:"This value is required."}):"",value:ge.email,onChange:be,label:X({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:X({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),t.createElement(ce,{error:Be.password?X({id:Be.password,defaultMessage:"This value is required."}):"",onChange:be,value:ge.password,label:X({id:"global.password",defaultMessage:"Password"}),name:"password",type:ke?"text":"password",endAction:t.createElement(ne.Z,{onClick:Ot=>{Ot.stopPropagation(),Ee(Tt=>!Tt)},label:X(ke?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},ke?t.createElement(I(),null):t.createElement(i(),null)),required:!0}),t.createElement(P.Checkbox,{onValueChange:Ot=>{be({target:{value:Ot,name:"rememberMe"}})},value:ge.rememberMe,"aria-label":"rememberMe",name:"rememberMe"},X({id:"Auth.form.rememberMe.label",defaultMessage:"Remember me"})),t.createElement(b.Button,{fullWidth:!0,type:"submit"},X({id:"Auth.form.button.login",defaultMessage:"Login"}))))),Le),t.createElement(q.Flex,{justifyContent:"center"},t.createElement(S.Box,{paddingTop:4},t.createElement(R.Link,{to:"/auth/forgot-password"},X({id:"Auth.link.forgot-password",defaultMessage:"Forgot your password?"})))))};k.defaultProps={children:null,onSubmit:()=>{}},k.propTypes={children:Ve().node,onSubmit:Ve().func,schema:Ve().shape({type:Ve().string.isRequired}).isRequired};const U=k},20270:(J,M,e)=>{"use strict";e.d(M,{Z:()=>H});var t=e(53547),p=e(45697),i=e.n(p),T=e(13873),I=e(83137),S=Object.defineProperty,N=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable,te=(R,B,b)=>B in R?S(R,B,{enumerable:!0,configurable:!0,writable:!0,value:b}):R[B]=b,D=(R,B)=>{for(var b in B||(B={}))ee.call(B,b)&&te(R,b,B[b]);if(N)for(var b of N(B))ie.call(B,b)&&te(R,b,B[b]);return R};const q=R=>t.createElement(I.ZP,null,t.createElement(T.Z,D({},R)));q.defaultProps={onSubmit:R=>R.preventDefault()},q.propTypes={onSubmit:i().func};const H=q},92776:(J,M,e)=>{"use strict";e.r(M),e.d(M,{default:()=>se});var t=e(53547),p=e(68547),i=e.n(p),T=e(80117),I=e.n(T),S=e(31512),N=e.n(S),ee=e(35395),ie=e.n(ee),te=e(92543),D=e.n(te),q=e(40074),H=e.n(q),R=e(64290),B=e.n(R),b=e(97132),z=e.n(b);const se=()=>{const{formatMessage:P}=(0,b.useIntl)();return(0,p.useFocusWhenNavigate)(),t.createElement(T.Main,{labelledBy:"title"},t.createElement(ee.HeaderLayout,{id:"title",title:P({id:"content-manager.pageNotFound",defaultMessage:"Page not found"})}),t.createElement(ee.ContentLayout,null,t.createElement(te.EmptyStateLayout,{action:t.createElement(S.LinkButton,{variant:"secondary",endIcon:t.createElement(B(),null),to:"/"},P({id:"app.components.NotFoundPage.back",defaultMessage:"Back to homepage"})),content:P({id:"app.page.not.found",defaultMessage:"Oops! We can't seem to find the page you're looging for..."}),hasRadius:!0,icon:t.createElement(H(),{width:"10rem"}),shadow:"tableShadow"})))}},57050:(J,M,e)=>{"use strict";e.d(M,{Z:()=>t});const t={}},7043:(J,M,e)=>{"use strict";e.d(M,{Z:()=>p});const p=({data:i})=>{try{return Object.keys(i).reduce((T,I)=>{const S=i[I][0];return T[I]={id:S,defaultMessage:S},T},{})}catch(T){return{}}}},58836:(J,M,e)=>{"use strict";e.d(M,{R6:()=>T,ot:()=>H,Iz:()=>R.Z,Pp:()=>ce,IF:()=>ne,WW:()=>We});var t=e(68547),p=(k,U,_)=>new Promise((we,Le)=>{var ke=ge=>{try{X(_.next(ge))}catch(Be){Le(Be)}},Ee=ge=>{try{X(_.throw(ge))}catch(Be){Le(Be)}},X=ge=>ge.done?we(ge.value):Promise.resolve(ge.value).then(ke,Ee);X((_=_.apply(k,U)).next())});const T=(k,U)=>p(void 0,null,function*(){let _=null;try{yield U.validate(k,{abortEarly:!1})}catch(we){_=(0,t.getYupInnerErrors)(we)}return _});var I=e(53547),S=e(45697),N=e.n(S),ee=e(49656),ie=e(25108),te=(k,U,_)=>new Promise((we,Le)=>{var ke=ge=>{try{X(_.next(ge))}catch(Be){Le(Be)}},Ee=ge=>{try{X(_.throw(ge))}catch(Be){Le(Be)}},X=ge=>ge.done?we(ge.value):Promise.resolve(ge.value).then(ke,Ee);X((_=_.apply(k,U)).next())});const D=({loadComponent:k})=>{const[U,_]=(0,I.useState)(null);return(0,I.useEffect)(()=>{(()=>te(void 0,null,function*(){try{const Le=yield k();_(()=>Le.default)}catch(Le){ie.log(Le)}}))()},[k]),U?I.createElement(U,null):I.createElement(t.LoadingIndicatorPage,null)},q=(k,U,_)=>I.createElement(ee.Route,{render:()=>I.createElement(D,{loadComponent:k}),key:U,path:U,exact:_||!1});D.propTypes={loadComponent:N().func.isRequired};const H=q;var R=e(7043),B=e(96486),b=Object.defineProperty,z=Object.defineProperties,Q=Object.getOwnPropertyDescriptors,se=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,le=(k,U,_)=>U in k?b(k,U,{enumerable:!0,configurable:!0,writable:!0,value:_}):k[U]=_,st=(k,U)=>{for(var _ in U||(U={}))P.call(U,_)&&le(k,_,U[_]);if(se)for(var _ of se(U))w.call(U,_)&&le(k,_,U[_]);return k},l=(k,U)=>z(k,Q(U));const ot=k=>{const U=get(k,["options","timestamps"]);let _=Array.isArray(U)?U:[];const Le=[...["id","_id"],..._,"publishedAt"],ke=get(k,["attributes"],{});return Object.keys(ke).reduce((Ee,X)=>(Le.includes(X)||Ee.push(l(st({},ke[X]),{attributeName:X})),Ee),[])},ze=null,We=k=>k.filter((U,_,we)=>we.findIndex(Le=>Le.key===U.key)===_),ut=k=>sortBy(k,U=>U.name),me=null,Oe=k=>Array.from(new Set(Object.entries(k).reduce((U,_)=>{const we=Le=>Le.reduce((ke,Ee)=>{let X=ke;return Ee.actions&&(X=[...X,...Ee.actions]),typeof Ee=="object"&&!Ee.actions&&(X=[...X,...Object.keys(Ee)]),X},[]);return[...U,...we([...Object.values(_[1].attributes||{}),get(_[1],"contentTypeActions",{})])]},[]))),ue=null,ne=k=>`/admin/${k}`,ce=(k,U="")=>[k,U].filter(_=>_).join(" ")},81595:(J,M,e)=>{"use strict";e.d(M,{p:()=>D});var t=e(53547),p=e(68547),i=e(58836),T=e(8041);const I={data:[],isLoading:!0},N=(q,H)=>(0,T.default)(q,R=>{switch(H.type){case"GET_DATA_SUCCEEDED":{R.data=H.data,R.isLoading=!1;break}case"GET_DATA_ERROR":{R.isLoading=!1;break}default:return R}});var ee=e(25108),ie=(q,H,R)=>new Promise((B,b)=>{var z=P=>{try{se(R.next(P))}catch(w){b(w)}},Q=P=>{try{se(R.throw(P))}catch(w){b(w)}},se=P=>P.done?B(P.value):Promise.resolve(P.value).then(z,Q);se((R=R.apply(q,H)).next())});const D=({ssoEnabled:q})=>{const[H,R]=(0,t.useReducer)(N,I),B=(0,p.useNotification)();(0,t.useEffect)(()=>{b()},[]);const b=()=>ie(void 0,null,function*(){try{if(!q){R({type:"GET_DATA_SUCCEEDED",data:[]});return}const z=(0,i.IF)("providers"),Q=yield(0,p.request)(z,{method:"GET"});R({type:"GET_DATA_SUCCEEDED",data:Q})}catch(z){ee.error(z),R({type:"GET_DATA_ERROR"}),B({type:"warning",message:{id:"notification.error"}})}});return H}},43202:(J,M,e)=>{"use strict";e.d(M,{Z:()=>T});var t=e(92699);const T=[...strapi.features.isEnabled(strapi.features.SSO)?[{intlLabel:{id:"Settings.sso.title",defaultMessage:"Single Sign-On"},to:"/settings/single-sign-on",id:"sso",isDisplayed:!1,permissions:t.Z.settings.sso.main}]:[]]},33948:(J,M,e)=>{"use strict";e.d(M,{Z:()=>q});var t=e(53547),p=e(49656),i=e(97132),T=e(36808),I=e.n(T),S=e(68547),N=e(58836),ee=(H,R,B)=>new Promise((b,z)=>{var Q=w=>{try{P(B.next(w))}catch(le){z(le)}},se=w=>{try{P(B.throw(w))}catch(le){z(le)}},P=w=>w.done?b(w.value):Promise.resolve(w.value).then(Q,se);P((B=B.apply(H,R)).next())});const te=()=>{const{params:{authResponse:H}}=(0,p.useRouteMatch)("/auth/login/:authResponse"),{formatMessage:R}=(0,i.useIntl)(),{push:B}=(0,p.useHistory)(),b=(0,t.useRef)(R);let z=(0,t.useCallback)(()=>{B(`/auth/oops?info=${encodeURIComponent(b.current({id:"Auth.form.button.login.providers.error",defaultMessage:"We cannot connect you through the selected provider."}))}`)},[B]);const Q=(0,t.useCallback)(()=>ee(void 0,null,function*(){try{const se=I().get("jwtToken");if(S.auth.clearAppStorage(),se){S.auth.setToken(se,!0);const P=(0,N.IF)("users/me"),{data:w}=yield(0,S.request)(P,{method:"GET"});S.auth.setUserInfo(w,!0),I().remove("jwtToken"),B("/auth/login")}}catch(se){z()}}),[B,z]);return(0,t.useEffect)(()=>{H==="error"&&z(),H==="success"&&Q()},[H,Q,z]),t.createElement(S.LoadingIndicatorPage,null)},q=[{Component:()=>({default:te}),to:"/auth/login/:authResponse",exact:!0}]},7857:(J,M,e)=>{"use strict";e.d(M,{Z:()=>ut});var t=e(53547),p=e(45697),i=e.n(p),T=e(16384),I=e(94117),S=e.n(I),N=e(40264),ee=e.n(N),ie=e(97833),te=e.n(ie),D=e(9524),q=e.n(D),H=e(33483),R=e.n(H),B=e(97132),b=e.n(B),z=e(13873),Q=e(81595),se=e(83137),P=e(84889),w=Object.defineProperty,le=Object.getOwnPropertySymbols,st=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,ot=(me,Oe,ue)=>Oe in me?w(me,Oe,{enumerable:!0,configurable:!0,writable:!0,value:ue}):me[Oe]=ue,ze=(me,Oe)=>{for(var ue in Oe||(Oe={}))st.call(Oe,ue)&&ot(me,ue,Oe[ue]);if(le)for(var ue of le(Oe))l.call(Oe,ue)&&ot(me,ue,Oe[ue]);return me};const Ve=(0,T.default)(ie.Divider)`
  flex: 1;
`,We=me=>{const Oe=strapi.features.isEnabled(strapi.features.SSO),{isLoading:ue,data:fe}=(0,Q.p)({ssoEnabled:Oe}),{formatMessage:ne}=(0,B.useIntl)();return!Oe||!ue&&fe.length===0?t.createElement(se.ZP,null,t.createElement(z.Z,ze({},me))):t.createElement(se.ZP,null,t.createElement(z.Z,ze({},me),t.createElement(I.Box,{paddingTop:7},t.createElement(D.Stack,{spacing:7},t.createElement(N.Flex,null,t.createElement(Ve,null),t.createElement(I.Box,{paddingLeft:3,paddingRight:3},t.createElement(H.Typography,{variant:"sigma",textColor:"neutral600"},ne({id:"Auth.login.sso.divider"}))),t.createElement(Ve,null)),t.createElement(P.Z,{providers:fe,displayAllProviders:!1})))))};We.defaultProps={onSubmit:me=>me.preventDefault(),requestError:null},We.propTypes={formErrors:i().object.isRequired,modifiedData:i().object.isRequired,onChange:i().func.isRequired,onSubmit:i().func,requestError:i().object};const ut=We},84889:(J,M,e)=>{"use strict";e.d(M,{Z:()=>P});var t=e(53547),p=e(45697),i=e.n(p),T=e(39272),I=e.n(T),S=e(40264),N=e.n(S),ee=e(33483),ie=e.n(ee),te=e(55639),D=e.n(te),q=e(16384),H=e(97132),R=e.n(H),B=e(49656);const b=q.default.a`
  width: ${136/16}rem;
  display: flex;
  justify-content: center;
  align-items: center;
  height: ${48/16}rem;
  border: 1px solid ${({theme:w})=>w.colors.neutral150};
  border-radius: ${({theme:w})=>w.borderRadius};
  text-decoration: inherit;
  &:link {
    text-decoration: none;
  }
  color: ${({theme:w})=>w.colors.neutral600};
`,z=(0,q.default)(S.Flex)`
  & a:not(:first-child):not(:last-child) {
    margin: 0 ${({theme:w})=>w.spaces[2]};
  }
  & a:first-child {
    margin-right: ${({theme:w})=>w.spaces[2]};
  }
  & a:last-child {
    margin-left: ${({theme:w})=>w.spaces[2]};
  }
`,Q=({provider:w})=>t.createElement(te.Tooltip,{label:w.displayName},t.createElement(b,{href:`${strapi.backendURL}/admin/connect/${w.uid}`},w.icon?t.createElement("img",{src:w.icon,"aria-hidden":!0,alt:"",height:"32px"}):t.createElement(ee.Typography,null,w.displayName)));Q.propTypes={provider:i().shape({icon:i().string,displayName:i().string.isRequired,uid:i().string.isRequired}).isRequired};const se=({providers:w,displayAllProviders:le})=>{const{formatMessage:st}=(0,H.useIntl)();return le?t.createElement(T.Grid,{gap:4},w.map(l=>t.createElement(T.GridItem,{key:l.uid,col:4},t.createElement(Q,{provider:l})))):w.length>2&&!le?t.createElement(T.Grid,{gap:4},w.slice(0,2).map(l=>t.createElement(T.GridItem,{key:l.uid,col:4},t.createElement(Q,{provider:l}))),t.createElement(T.GridItem,{col:4},t.createElement(te.Tooltip,{label:st({id:"global.see-more"})},t.createElement(b,{as:B.Link,to:"/auth/providers"},t.createElement("span",{"aria-hidden":!0},"\u2022\u2022\u2022"))))):t.createElement(z,{justifyContent:"center"},w.map(l=>t.createElement(Q,{key:l.uid,provider:l})))};se.defaultProps={displayAllProviders:!0},se.propTypes={providers:i().arrayOf(i().object).isRequired,displayAllProviders:i().bool};const P=se},66267:(J,M,e)=>{"use strict";e.d(M,{Z:()=>ue});var t=e(53547),p=e(49656),i=e(16384),T=e(97833),I=e(9524),S=e(40264),N=e(94117),ee=e(64459),ie=e(56156),te=e(97245),D=e(33483),q=e(80117),H=e(97132),R=e(81595),B=e(83137),b=e(84889),z=e(87173);const Q=(0,i.default)(T.Divider)`
  flex: 1;
`,P=()=>{const fe=strapi.features.isEnabled(strapi.features.SSO),{push:ne}=(0,p.useHistory)(),{formatMessage:ce}=(0,H.useIntl)(),{isLoading:k,data:U}=(0,R.p)({ssoEnabled:fe}),_=()=>{ne("/auth/login")};return!fe||!k&&U.length===0?t.createElement(p.Redirect,{to:"/auth/login"}):t.createElement(B.ZP,null,t.createElement(q.Main,null,t.createElement(B.bU,null,t.createElement(B.sg,null,t.createElement(z.Z,null),t.createElement(N.Box,{paddingTop:6,paddingBottom:1},t.createElement(D.Typography,{as:"h1",variant:"alpha"},ce({id:"Auth.form.welcome.title"}))),t.createElement(N.Box,{paddingBottom:7},t.createElement(D.Typography,{variant:"epsilon",textColor:"neutral600"},ce({id:"Auth.login.sso.subtitle"})))),t.createElement(I.Stack,{spacing:7},k?t.createElement(S.Flex,{justifyContent:"center"},t.createElement(te.Loader,null,ce({id:"Auth.login.sso.loading"}))):t.createElement(b.Z,{providers:U}),t.createElement(S.Flex,null,t.createElement(Q,null),t.createElement(N.Box,{paddingLeft:3,paddingRight:3},t.createElement(D.Typography,{variant:"sigma",textColor:"neutral600"},ce({id:"or"}))),t.createElement(Q,null)),t.createElement(ee.Button,{fullWidth:!0,size:"L",onClick:_},ce({id:"Auth.form.button.login.strapi"})))),t.createElement(S.Flex,{justifyContent:"center"},t.createElement(N.Box,{paddingTop:4},t.createElement(ie.Link,{to:"/auth/forgot-password"},t.createElement(D.Typography,{variant:"pi"},ce({id:"Auth.link.forgot-password"})))))))};var w=e(48858),le=Object.defineProperty,st=Object.defineProperties,l=Object.getOwnPropertyDescriptors,ot=Object.getOwnPropertySymbols,ze=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable,We=(fe,ne,ce)=>ne in fe?le(fe,ne,{enumerable:!0,configurable:!0,writable:!0,value:ce}):fe[ne]=ce,ut=(fe,ne)=>{for(var ce in ne||(ne={}))ze.call(ne,ce)&&We(fe,ce,ne[ce]);if(ot)for(var ce of ot(ne))Ve.call(ne,ce)&&We(fe,ce,ne[ce]);return fe},me=(fe,ne)=>st(fe,l(ne));const ue=me(ut({},w.Z),{providers:{Component:P,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""}})},601:(J,M,e)=>{"use strict";e.d(M,{Z:()=>p});const p={settings:{sso:{main:[{action:"admin::provider-login.read",subject:null}],read:[{action:"admin::provider-login.read",subject:null}],update:[{action:"admin::provider-login.update",subject:null}]}}}},83522:(J,M,e)=>{"use strict";J.exports=e.p+"fde9b1ad0670d29a2516.png"},42201:(J,M,e)=>{"use strict";J.exports=e.p+"15026a3d58aeb2828134.png"},85764:(J,M,e)=>{"use strict";J.exports=e.p+"b997a22a2e0b87ef1fa2.ico"}}]);
