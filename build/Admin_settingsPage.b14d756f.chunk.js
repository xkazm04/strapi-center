"use strict";(self.webpackChunkstrapi=self.webpackChunkstrapi||[]).push([[5895],{78924:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),o=n(a(45697)),l=n(a(78384)),i=a(97132),u=a(54451),s=a(15577),d=a(49549),c=a(31512),f=a(94117),p=a(40264),m=a(33483),g=a(9524),b=n(a(74657)),y=n(a(7228)),v=a(68547),h=n(a(12285)),O=n(a(31652)),C=l.default.div.withConfig({displayName:"UpgradePlanModal__UpgradeWrapper",componentId:"sc-8aur7y-0"})(["position:absolute;z-index:3;inset:0;background:",";padding:0 ",";"],(function(e){var t=e.theme;return(0,v.setHexOpacity)(t.colors.neutral800,.2)}),(function(e){return e.theme.spaces[8]})),E=(0,l.default)(p.Flex).withConfig({displayName:"UpgradePlanModal__UpgradeContainer",componentId:"sc-8aur7y-1"})(["position:relative;max-width:","rem;height:","rem;margin:0 auto;overflow:hidden;margin-top:10%;padding-left:","rem;img:first-of-type{position:absolute;right:0;top:0;max-width:","rem;}img:not(:first-of-type){width:","rem;margin-left:12%;margin-right:","rem;z-index:0;}"],51.875,415/16,4,22.5,8.125,1.25),j=(0,l.default)(g.Stack).withConfig({displayName:"UpgradePlanModal__StackFlexStart",componentId:"sc-8aur7y-2"})(["align-items:flex-start;max-width:","rem;z-index:0;"],25),w=(0,l.default)(f.Box).withConfig({displayName:"UpgradePlanModal__CloseButtonContainer",componentId:"sc-8aur7y-3"})(["position:absolute;right:",";top:",";"],(function(e){return e.theme.spaces[4]}),(function(e){return e.theme.spaces[4]})),P=function(e){var t=e.onClose,a=e.isOpen;(0,v.useLockScroll)(a);var n=(0,i.useIntl)().formatMessage;return a?r.default.createElement(u.Portal,null,r.default.createElement(C,{onClick:t},r.default.createElement(s.FocusTrap,{onEscape:t},r.default.createElement(E,{onClick:function(e){return e.stopPropagation()},"aria-labelledby":"upgrade-plan",background:"neutral0",hasRadius:!0},r.default.createElement("img",{src:h.default,alt:"air-balloon"}),r.default.createElement(w,null,r.default.createElement(d.IconButton,{onClick:t,"aria-label":"Close",icon:r.default.createElement(y.default,null)})),r.default.createElement(j,{spacing:6},r.default.createElement(m.Typography,{fontWeight:"bold",textColor:"primary600"},n({id:"app.components.UpgradePlanModal.text-ce",defaultMessage:"COMMUNITY EDITION"})),r.default.createElement(g.Stack,{spacing:2},r.default.createElement(m.Typography,{variant:"alpha",as:"h2",id:"upgrade-plan"},n({id:"app.components.UpgradePlanModal.limit-reached",defaultMessage:"You have reached the limit"})),r.default.createElement(m.Typography,null,n({id:"app.components.UpgradePlanModal.text-power",defaultMessage:"Unlock the full power of Strapi by upgrading your plan to the Enterprise Edition"}))),r.default.createElement(c.LinkButton,{href:"https://strapi.io/pricing-self-hosted",endIcon:r.default.createElement(b.default,null)},n({id:"app.components.UpgradePlanModal.button",defaultMessage:"Learn more"}))),r.default.createElement("img",{src:O.default,alt:"upgrade-arrow"}))))):null};P.propTypes={onClose:o.default.func.isRequired,isOpen:o.default.bool.isRequired};var k=P;t.default=k},37077:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(59713)),o=n(a(53547)),l=a(29491),i=a(97132),u=n(a(45697)),s=a(77040);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f=function(e){var t=e.menu,a=(0,i.useIntl)().formatMessage,n=(0,s.getSectionsToDisplay)(t).map((function(e){return c(c({},e),{},{title:e.intlLabel,links:e.links.map((function(e){return c(c({},e),{},{title:e.intlLabel,name:e.id})}))})})),r=a({id:"global.settings",defaultMessage:"Settings"});return o.default.createElement(l.SubNav,{ariaLabel:r},o.default.createElement(l.SubNavHeader,{label:r}),o.default.createElement(l.SubNavSections,null,n.map((function(e){return o.default.createElement(l.SubNavSection,{key:e.id,label:a(e.intlLabel)},e.links.map((function(e){return o.default.createElement(l.SubNavLink,{withBullet:e.hasNotification,to:e.to,key:e.id},a(e.intlLabel))})))}))))};f.propTypes={menu:u.default.array.isRequired};var p=f;t.default=p},91097:(e,t,a)=>{var n=a(95318),r=a(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsPage=y,t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=a(68547),i=a(39711),u=a(35395),s=a(97132),d=a(15482),c=a(63376),f=a(26595),p=n(a(70512)),m=a(77040),g=n(a(37077));function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}function y(){var e=(0,i.useParams)().settingId,t=(0,l.useStrapiApp)().settings,a=(0,s.useIntl)().formatMessage,n=(0,c.useSettingsMenu)(),r=n.isLoading,b=n.menu,y=(0,o.useMemo)((function(){return(0,f.makeUniqueRoutes)(m.routes.map((function(e){var t=e.to,a=e.Component,n=e.exact;return(0,f.createRoute)(a,t,n)})))}),[]),v=(0,m.createSectionsRoutes)(t);if(r)return o.default.createElement(l.LoadingIndicatorPage,null);if(!e)return o.default.createElement(i.Redirect,{to:"/settings/application-infos"});var h=a({id:"global.settings",defaultMessage:"Settings"});return o.default.createElement(u.Layout,{sideNav:o.default.createElement(g.default,{menu:b})},o.default.createElement(d.Helmet,{title:h}),o.default.createElement(i.Switch,null,o.default.createElement(i.Route,{path:"/settings/application-infos",component:p.default,exact:!0}),y,v))}var v=(0,o.memo)(y);t.default=v},70512:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),o=a(97132),l=a(68547),i=a(35395),u=a(80117),s=a(94117),d=a(39272),c=a(33483),f=a(9524),p=a(56156),m=n(a(74657)),g=function(){var e=(0,o.useIntl)().formatMessage;(0,l.useFocusWhenNavigate)();var t=(0,l.useAppInfos)(),a=t.shouldUpdateStrapi,n=t.latestStrapiReleaseTag,g=t.strapiVersion,b=t.communityEdition?"app.components.UpgradePlanModal.text-ce":"app.components.UpgradePlanModal.text-ee";return r.default.createElement(i.Layout,null,r.default.createElement(l.SettingsPageTitle,{name:"Application"}),r.default.createElement(u.Main,null,r.default.createElement(i.HeaderLayout,{title:e({id:"Settings.application.title",defaultMessage:"Overview"}),subtitle:e({id:"Settings.application.description",defaultMessage:"Administration panel\u2019s global information"})}),r.default.createElement(i.ContentLayout,null,r.default.createElement(s.Box,{hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingTop:7,paddingBottom:7,paddingRight:6,paddingLeft:6},r.default.createElement(f.Stack,{spacing:5},r.default.createElement(c.Typography,{variant:"delta",as:"h3"},e({id:"global.details",defaultMessage:"Details"})),r.default.createElement(d.Grid,{paddingTop:1},r.default.createElement(d.GridItem,{col:6,s:12},r.default.createElement(c.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"Settings.application.strapiVersion",defaultMessage:"strapi version"})),r.default.createElement(c.Typography,{as:"p"},"v",g),r.default.createElement(p.Link,{href:t.communityEdition?"https://discord.strapi.io":"https://support.strapi.io/support/home",endIcon:r.default.createElement(m.default,null)},e({id:"Settings.application.get-help",defaultMessage:"Get help"}))),r.default.createElement(d.GridItem,{col:6,s:12},r.default.createElement(c.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"Settings.application.edition-title",defaultMessage:"current plan"})),r.default.createElement(c.Typography,{as:"p"},e({id:b,defaultMessage:"".concat(t.communityEdition?"Community Edition":"Enterprise Edition")})))),r.default.createElement(d.Grid,{paddingTop:1},r.default.createElement(d.GridItem,{col:6,s:12},a&&r.default.createElement(p.Link,{href:"https://github.com/strapi/strapi/releases/tag/".concat(n),endIcon:r.default.createElement(m.default,null)},e({id:"Settings.application.link-upgrade",defaultMessage:"Upgrade your admin panel"}))),r.default.createElement(d.GridItem,{col:6,s:12},r.default.createElement(p.Link,{href:"https://strapi.io/pricing-self-hosted",endIcon:r.default.createElement(m.default,null)},e({id:"Settings.application.link-pricing",defaultMessage:"See all pricing plans"})))),r.default.createElement(s.Box,{paddingTop:1},r.default.createElement(c.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"Settings.application.node-version",defaultMessage:"node version"})),r.default.createElement(c.Typography,{as:"p"},t.nodeVersion)))))))};t.default=g},7126:(e,t,a)=>{var n=a(95318);t.Z=void 0;var r=n(a(53547)),o=a(39711),l=function(){return r.default.createElement(o.Redirect,{to:"/404"})};t.Z=l},21950:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(78384)),o=a(40264),l=(0,r.default)(o.Flex).withConfig({displayName:"CollapseLabel",componentId:"sc-1ssinbk-0"})(["padding-right:",";overflow:hidden;flex:1;",""],(function(e){return e.theme.spaces[2]}),(function(e){return e.isCollapsable&&"cursor: pointer;"}));t.default=l},30380:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),o=n(a(45697)),l=n(a(17581)),i=a(64459),u=a(97132),s=n(a(78384)),d=s.default.div.withConfig({displayName:"ConditionsButton__Wrapper",componentId:"sc-wd45es-0"})(["position:relative;",""],(function(e){var t=e.hasConditions,a=e.disabled,n=e.theme;return t&&"\n    &:before {\n      content: '';\n      position: absolute;\n      top: -3px;\n      left: -10px;\n      width: 6px;\n      height: 6px;\n      border-radius: ".concat(1.25,"rem;;\n      background: ").concat(a?n.colors.neutral100:n.colors.primary600,";\n    }\n  ")})),c=function(e){var t=e.onClick,a=e.className,n=e.hasConditions,o=e.variant,s=(0,u.useIntl)().formatMessage;return r.default.createElement(d,{hasConditions:n,className:a},r.default.createElement(i.Button,{variant:o,startIcon:r.default.createElement(l.default,null),onClick:t},s({id:"global.settings",defaultMessage:"Settings"})))};c.defaultProps={className:null,hasConditions:!1,variant:"tertiary"},c.propTypes={onClick:o.default.func.isRequired,className:o.default.string,hasConditions:o.default.bool,variant:o.default.string};var f=(0,s.default)(c).withConfig({displayName:"ConditionsButton",componentId:"sc-wd45es-1"})([""]);t.default=f},86907:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(59713)),o=n(a(319)),l=n(a(63038)),i=n(a(53547)),u=n(a(45697)),s=a(94117),d=a(40264),c=a(33483),f=a(2632),p=n(a(11700)),m=a(97132),g=n(a(78384)),b=a(12037);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var v=window&&window.strapi&&window.strapi.isEE?a(6561).Z:a(83292).Z,h=(0,g.default)(d.Flex).withConfig({displayName:"ActionRow__FlexWrapper",componentId:"sc-1bqpgdl-0"})(["height:",";"],b.rowHeight),O=function(e){var t=e.arrayOfOptionsGroupedByCategory,a=e.isFormDisabled,n=e.isGrey,u=e.label,g=e.name,b=e.onChange,O=e.value,C=(0,m.useIntl)().formatMessage,E=t.reduce((function(e,t){var a=(0,l.default)(t,2),n=a[0],r=a[1],i={label:(0,p.default)(n),children:r.map((function(e){return{label:e.displayName,value:e.id}}))};return[].concat((0,o.default)(e),[i])}),[]),j=Object.values(O).map((function(e){return Object.entries(e).filter((function(e){return(0,l.default)(e,2)[1]})).map((function(e){return(0,l.default)(e,1)[0]}))})).flat();return i.default.createElement(h,{as:"li",background:n?"neutral100":"neutral0"},i.default.createElement(d.Flex,{paddingLeft:6,style:{width:180}},i.default.createElement(c.Typography,{variant:"sigma",textColor:"neutral600"},C({id:"Settings.permissions.conditions.can",defaultMessage:"Can"}),"\xa0"),i.default.createElement(c.Typography,{variant:"sigma",title:u,textColor:"primary600",ellipsis:!0},C({id:"Settings.roles.form.permissions.".concat(u.toLowerCase()),defaultMessage:u})),i.default.createElement(c.Typography,{variant:"sigma",textColor:"neutral600"},"\xa0",C({id:"Settings.permissions.conditions.when",defaultMessage:"When"}))),i.default.createElement(s.Box,{style:{maxWidth:430,width:"100%"}},i.default.createElement(f.MultiSelectNested,{id:g,customizeContent:function(e){return"".concat(e.length," currently selected")},onChange:function(e){var a=(0,l.default)(t,1),n=(0,l.default)(a[0],2)[1].reduce((function(t,a){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}((0,r.default)({},a.id,e.includes(a.id)),t)}),{});b(g,n)},value:j,options:E,disabled:a||v})))};O.propTypes={arrayOfOptionsGroupedByCategory:u.default.array.isRequired,isFormDisabled:u.default.bool.isRequired,isGrey:u.default.bool.isRequired,label:u.default.string.isRequired,name:u.default.string.isRequired,value:u.default.object.isRequired,onChange:u.default.func.isRequired};var C=O;t.default=C},83292:(e,t)=>{t.Z=void 0;t.Z=true},47173:(e,t,a)=>{var n=a(95318),r=a(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(59713)),l=n(a(63038)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),u=n(a(45697)),s=a(94117),d=a(64459),c=a(97833),f=a(9524),p=a(68991),m=a(44981),g=a(33483),b=n(a(66312)),y=n(a(27361)),v=n(a(7739)),h=n(a(11700)),O=a(97132),C=a(63376),E=n(a(86907)),j=n(a(13659));function w(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var M=function(e){var t=e.actions,a=e.headerBreadCrumbs,n=e.isFormDisabled,r=e.onClosed,o=e.onToggle,u=(0,O.useIntl)().formatMessage,w=(0,C.usePermissionsDataManager)(),P=w.availableConditions,M=w.modifiedData,_=w.onChangeConditions,D=(0,i.useMemo)((function(){return Object.entries((0,v.default)(P,"category"))}),[P]),x=t.filter((function(e){var t=e.isDisplayed,a=e.hasSomeActionsSelected,n=e.hasAllActionsSelected;return t&&(a||n)})),T=(0,i.useMemo)((function(){return(0,j.default)(x,M,D)}),[x,M,D]),S=(0,i.useState)(T),R=(0,l.default)(S,2),A=R[0],I=R[1],F=function(e,t){I((0,b.default)((function(a){a[e]||(a[e]={}),a[e].default||(a[e].default={}),a[e].default=t})))};return i.default.createElement(p.ModalLayout,{labelledBy:"condition-modal-breadcrumbs",onClose:r},i.default.createElement(p.ModalHeader,null,i.default.createElement(m.Breadcrumbs,{id:"condition-modal-breadcrumbs",label:a.join(", ")},a.map((function(e){return i.default.createElement(m.Crumb,{key:e},(0,h.default)(u({id:e,defaultMessage:e})))})))),i.default.createElement(s.Box,{padding:8},i.default.createElement(f.Stack,{spacing:6},i.default.createElement(g.Typography,{variant:"beta",as:"h2"},u({id:"Settings.permissions.conditions.define-conditions",defaultMessage:"Define conditions"})),i.default.createElement(s.Box,null,i.default.createElement(c.Divider,null)),i.default.createElement(s.Box,null,0===x.length&&i.default.createElement(g.Typography,null,u({id:"Settings.permissions.conditions.no-actions",defaultMessage:"You first need to select actions (create, read, update, ...) before defining conditions on them."})),i.default.createElement("ul",null,x.map((function(e,t){var a=e.actionId,r=e.label,o=e.pathToConditionsObject.join("..");return i.default.createElement(E.default,{key:a,arrayOfOptionsGroupedByCategory:D,label:r,isFormDisabled:n,isGrey:t%2===0,name:o,onChange:F,value:(0,y.default)(A,o,{})})})))))),i.default.createElement(p.ModalFooter,{startActions:i.default.createElement(d.Button,{variant:"tertiary",onClick:o},u({id:"app.components.Button.cancel",defaultMessage:"Cancel"})),endActions:i.default.createElement(d.Button,{onClick:function(){var e=Object.entries(A).reduce((function(e,t){var a=(0,l.default)(t,2),n=a[0],r=a[1],o=Object.values(r).reduce((function(e,t){return k(k({},e),t)}),{});return e[n]=o,e}),{});_(e),o()}},u({id:"Settings.permissions.conditions.apply",defaultMessage:"Apply"}))}))};M.propTypes={actions:u.default.arrayOf(u.default.shape({actionId:u.default.string.isRequired,checkboxName:u.default.string,hasSomeActionsSelected:u.default.bool.isRequired,hasAllActionsSelected:u.default.bool,isDisplayed:u.default.bool.isRequired,label:u.default.string})).isRequired,headerBreadCrumbs:u.default.arrayOf(u.default.string).isRequired,isFormDisabled:u.default.bool.isRequired,onClosed:u.default.func.isRequired,onToggle:u.default.func.isRequired};var _=M;t.default=_},13659:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createConditionsForm=t.createCategoryForm=void 0;var r=n(a(319)),o=n(a(63038)),l=a(96486),i=function(e,t){return e.reduce((function(e,a){return e[a.id]=(0,l.get)(t,a.id,!1),e}),{})};t.createConditionsForm=i;var u=function(e,t){return e.reduce((function(e,a){var n=(0,o.default)(a,2),r=n[0],l=n[1],u=i(l,t);return e[r]=u,e}),{})};t.createCategoryForm=u;var s=function(e,t,a){return e.reduce((function(e,n){var o=(0,l.get)(t,[].concat((0,r.default)(n.pathToConditionsObject),["conditions"]),{}),i=u(a,o);return e[n.pathToConditionsObject.join("..")]=i,e}),{})};t.default=s},30841:(e,t,a)=>{var n=a(95318),r=a(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(319)),l=n(a(63038)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),u=n(a(45697)),s=a(97132),d=n(a(78384)),c=a(46458),f=a(40264),p=n(a(27361)),m=a(63376),g=n(a(7457)),b=a(12037),y=n(a(92395)),v=n(a(43148)),h=a(89362),O=a(91416),C=n(a(98459)),E=n(a(19090)),j=n(a(88685));function w(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}var P=window&&window.strapi&&window.strapi.isEE?a(11720).Z:a(75312).Z,k=(0,d.default)(f.Flex).withConfig({displayName:"ActionRow__Cell",componentId:"sc-4agenc-0"})(["width:",";position:relative;"],b.cellWidth),M=(0,d.default)(f.Flex).withConfig({displayName:"ActionRow__Wrapper",componentId:"sc-4agenc-1"})(["height:",";flex:1;"," ",";"],b.rowHeight,(function(e){var t=e.isCollapsable,a=e.theme;return t&&"\n      ".concat(C.default," {\n        display: block;\n        color: ").concat(a.colors.neutral100,";\n      }\n      &:hover {\n        ").concat((0,O.activeStyle)(a),"\n      }\n  ")}),(function(e){var t=e.isActive,a=e.theme;return t&&(0,O.activeStyle)(a)})),_=function(e){var t=e.childrenForm,a=e.label,n=e.isFormDisabled,r=e.name,u=e.required,d=e.pathToData,b=e.propertyActions,O=e.propertyName,w=e.isOdd,_=(0,s.useIntl)().formatMessage,D=(0,i.useState)(null),x=(0,l.default)(D,2),T=x[0],S=x[1],R=(0,m.usePermissionsDataManager)(),A=R.modifiedData,I=R.onChangeCollectionTypeLeftActionRowCheckbox,F=R.onChangeParentCheckbox,q=R.onChangeSimpleCheckbox,N=T===r,L=(0,i.useMemo)((function(){return Array.isArray(t)?t:[]}),[t]),W=L.length>0,B=(0,i.useCallback)((function(){W&&S((function(e){return e===r?null:r}))}),[W,r]),Z=(0,i.useMemo)((function(){return(0,j.default)(b,A,d,O,r)}),[b,A,d,O,r]),G=Z.hasAllActionsSelected,H=Z.hasSomeActionsSelected;return i.default.createElement(i.default.Fragment,null,i.default.createElement(M,{alignItems:"center",isCollapsable:W,isActive:N,background:w?"neutral100":"neutral0"},i.default.createElement(f.Flex,null,i.default.createElement(v.default,{onChange:function(e){var t=e.target.value;I(d,O,r,t)},onClick:B,isCollapsable:W,isFormDisabled:n,label:a,someChecked:H,value:G,isActive:N},u&&i.default.createElement(y.default,null),i.default.createElement(C.default,{$isActive:N})),i.default.createElement(f.Flex,null,b.map((function(e){var t=e.label,a=e.isActionRelatedToCurrentProperty,l=e.actionId;if(!a)return i.default.createElement(g.default,{key:t});var u=[].concat((0,o.default)(d.split("..")),[l,"properties",O,r]);if(!W){var s=(0,p.default)(A,u,!1);return i.default.createElement(k,{key:l,justifyContent:"center",alignItems:"center"},i.default.createElement(c.BaseCheckbox,{disabled:n||P,name:u.join(".."),"aria-label":_({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(r," ").concat(t)}),onValueChange:function(e){q({target:{name:u.join(".."),value:e}})},value:s}))}var f=(0,p.default)(A,u,{}),m=(0,h.getCheckboxState)(f),b=m.hasAllActionsSelected,y=m.hasSomeActionsSelected;return i.default.createElement(k,{key:t,justifyContent:"center",alignItems:"center"},i.default.createElement(c.BaseCheckbox,{disabled:n||P,name:u.join(".."),onValueChange:function(e){F({target:{name:u.join(".."),value:e}})},"aria-label":_({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(r," ").concat(t)}),value:b,indeterminate:y}))}))))),N&&i.default.createElement(E.default,{childrenForm:L,isFormDisabled:n,parentName:r,pathToDataFromActionRow:d,propertyName:O,propertyActions:b,recursiveLevel:0}))};_.defaultProps={childrenForm:[],required:!1},_.propTypes={childrenForm:u.default.array,label:u.default.string.isRequired,isFormDisabled:u.default.bool.isRequired,name:u.default.string.isRequired,pathToData:u.default.string.isRequired,propertyActions:u.default.array.isRequired,propertyName:u.default.string.isRequired,required:u.default.bool,isOdd:u.default.bool.isRequired};var D=(0,i.memo)(_);t.default=D},75312:(e,t)=>{t.Z=void 0;t.Z=true},88685:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getActionIdsFromPropertyActions=t.default=void 0;var r=n(a(319)),o=a(96486),l=a(89362),i=function(e){return e.reduce((function(e,t){return t.isActionRelatedToCurrentProperty&&e.push(t.actionId),e}),[])};t.getActionIdsFromPropertyActions=i;var u=function(e,t,a,n,u){var s=i(e).reduce((function(e,l){var i=[].concat((0,r.default)(a.split("..")),[l,"properties",n,u]),s=(0,o.get)(t,i,!1);return e[l]=s,e}),{});return(0,l.getCheckboxState)(s)};t.default=u},98459:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(78384)),o=n(a(40413)),l=(0,r.default)(o.default).withConfig({displayName:"CarretIcon",componentId:"sc-1sz33o8-0"})(["display:none;width:","rem;transform:rotate(","deg);margin-left:",";"],.625,(function(e){return e.$isActive?"180":"0"}),(function(e){return e.theme.spaces[2]}));t.default=l},62153:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),o=n(a(45697)),l=a(97132),i=n(a(78384)),u=a(40264),s=a(33483),d=a(12037),c=(0,i.default)(u.Flex).withConfig({displayName:"Header__HeaderLabel",componentId:"sc-1x5jpk6-0"})(["width:",";flex-shrink:0;"],d.cellWidth),f=(0,i.default)(u.Flex).withConfig({displayName:"Header__PropertyLabelWrapper",componentId:"sc-1x5jpk6-1"})(["width:",";height:",";flex-shrink:0;"],d.firstRowWidth,d.rowHeight),p=function(e){var t=e.headers,a=e.label,n=(0,l.useIntl)().formatMessage,o=n({id:"Settings.roles.form.permission.property-label",defaultMessage:"{label} permissions"},{label:a});return r.default.createElement(u.Flex,null,r.default.createElement(f,{alignItems:"center",paddingLeft:6},r.default.createElement(s.Typography,{variant:"sigma",textColor:"neutral500"},o)),t.map((function(e){return e.isActionRelatedToCurrentProperty?r.default.createElement(c,{justifyContent:"center",key:e.label},r.default.createElement(s.Typography,{variant:"sigma",textColor:"neutral500"},n({id:"Settings.roles.form.permissions.".concat(e.label.toLowerCase()),defaultMessage:e.label}))):r.default.createElement(c,{key:e.label})})))};p.propTypes={headers:o.default.arrayOf(o.default.shape({label:o.default.string.isRequired,isActionRelatedToCurrentProperty:o.default.bool.isRequired})).isRequired,label:o.default.string.isRequired};var m=p;t.default=m},19090:(e,t,a)=>{var n=a(95318),r=a(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(319)),l=n(a(67154)),i=n(a(63038)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=M(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),s=n(a(45697)),d=n(a(27361)),c=n(a(11700)),f=a(97132),p=n(a(78384)),m=a(46458),g=a(94117),b=a(40264),y=a(33483),v=a(63376),h=n(a(21950)),O=n(a(55946)),C=n(a(7457)),E=a(12037),j=n(a(92395)),w=a(89362),P=a(91416),k=n(a(98459));function M(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(M=function(e){return e?a:t})(e)}var _=window&&window.strapi&&window.strapi.isEE?a(48535).Z:a(24699).Z,D=(0,p.default)(b.Flex).withConfig({displayName:"SubActionRow__Cell",componentId:"sc-7y8yzq-0"})(["width:",";position:relative;"],E.cellWidth),x=(0,p.default)(b.Flex).withConfig({displayName:"SubActionRow__RowWrapper",componentId:"sc-7y8yzq-1"})(["height:",";"],E.rowHeight),T=(0,p.default)(g.Box).withConfig({displayName:"SubActionRow__Wrapper",componentId:"sc-7y8yzq-2"})(["padding-left:","rem;"],31/16),S=(0,p.default)(g.Box).withConfig({displayName:"SubActionRow__LeftBorderTimeline",componentId:"sc-7y8yzq-3"})(["border-left:",";"],(function(e){var t=e.isVisible,a=e.theme;return t?"4px solid ".concat(a.colors.primary200):"4px solid transparent"})),R=(0,p.default)(b.Flex).withConfig({displayName:"SubActionRow__RowStyle",componentId:"sc-7y8yzq-4"})(["padding-left:",";width:","px;"," ",";"],(function(e){return e.theme.spaces[4]}),(function(e){return 145-36*e.level}),(function(e){var t=e.isCollapsable,a=e.theme;return t&&"\n      ".concat(k.default," {\n        display: block;\n        color: ").concat(a.colors.neutral100,";\n      }\n      &:hover {\n        ").concat((0,P.activeStyle)(a),"\n      }\n  ")}),(function(e){var t=e.isActive,a=e.theme;return t&&(0,P.activeStyle)(a)})),A=p.default.div.withConfig({displayName:"SubActionRow__TopTimeline",componentId:"sc-7y8yzq-5"})(["padding-top:",";margin-top:",";width:","rem;background-color:",";border-top-left-radius:2px;border-top-right-radius:2px;"],(function(e){return e.theme.spaces[2]}),(function(e){return e.theme.spaces[2]}),.25,(function(e){return e.theme.colors.primary200})),I=function e(t){var a=t.childrenForm,n=t.isFormDisabled,r=t.recursiveLevel,s=t.pathToDataFromActionRow,p=t.propertyActions,E=t.parentName,P=t.propertyName,M=(0,f.useIntl)().formatMessage,I=(0,v.usePermissionsDataManager)(),F=I.modifiedData,q=I.onChangeParentCheckbox,N=I.onChangeSimpleCheckbox,L=(0,u.useState)(null),W=(0,i.default)(L,2),B=W[0],Z=W[1],G=function(e){Z((function(t){return t===e?null:e}))},H=(0,u.useMemo)((function(){return B?a.find((function(e){return e.value===B})):null}),[B,a]);return u.default.createElement(T,null,u.default.createElement(A,null),a.map((function(t,i){var f=t.label,v=t.value,T=t.required,A=t.children,I=i+1<a.length,L=Array.isArray(A),W=B===v;return u.default.createElement(S,{key:v,isVisible:I},u.default.createElement(x,null,u.default.createElement(O.default,{color:"primary200"}),u.default.createElement(b.Flex,{style:{flex:1}},u.default.createElement(R,{level:r,isActive:W,isCollapsable:L},u.default.createElement(h.default,(0,l.default)({alignItems:"center",isCollapsable:L},L&&{onClick:function(){return G(v)},"aria-expanded":W,onKeyDown:function(e){var t=e.key;return("Enter"===t||" "===t)&&G(v)},tabIndex:0,role:"button"},{title:f}),u.default.createElement(y.Typography,{ellipsis:!0},(0,c.default)(f)),T&&u.default.createElement(j.default,null),u.default.createElement(k.default,{$isActive:W}))),u.default.createElement(b.Flex,{style:{flex:1}},p.map((function(e){var t=e.actionId,a=e.label;if(!e.isActionRelatedToCurrentProperty)return u.default.createElement(C.default,{key:t});var r=[].concat((0,o.default)(s.split("..")),[t,"properties",P],(0,o.default)(E.split("..")),[v]),l=(0,d.default)(F,r,!1);if(!A)return u.default.createElement(D,{key:a,justifyContent:"center",alignItems:"center"},u.default.createElement(m.BaseCheckbox,{disabled:n||_,name:r.join(".."),"aria-label":M({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(E," ").concat(f," ").concat(a)}),onValueChange:function(e){N({target:{name:r.join(".."),value:e}})},value:l}));var i=(0,w.getCheckboxState)(l),c=i.hasAllActionsSelected,p=i.hasSomeActionsSelected;return u.default.createElement(D,{key:a,justifyContent:"center",alignItems:"center"},u.default.createElement(m.BaseCheckbox,{key:a,disabled:n||_,name:r.join(".."),"aria-label":M({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(E," ").concat(f," ").concat(a)}),onValueChange:function(e){q({target:{name:r.join(".."),value:e}})},value:c,indeterminate:p}))}))))),H&&W&&u.default.createElement(g.Box,{paddingBottom:2},u.default.createElement(e,{isFormDisabled:n,parentName:"".concat(E,"..").concat(v),pathToDataFromActionRow:s,propertyActions:p,propertyName:P,recursiveLevel:r+1,childrenForm:H.children})))})))};I.propTypes={childrenForm:s.default.array.isRequired,isFormDisabled:s.default.bool.isRequired,parentName:s.default.string.isRequired,pathToDataFromActionRow:s.default.string.isRequired,propertyActions:s.default.array.isRequired,propertyName:s.default.string.isRequired,recursiveLevel:s.default.number.isRequired};var F=(0,u.memo)(I);t.default=F},24699:(e,t)=>{t.Z=void 0;t.Z=true},2417:(e,t,a)=>{var n=a(95318),r=a(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(45697)),i=n(a(78384)),u=a(94117),s=n(a(20538)),d=n(a(62153)),c=n(a(30841));function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}var p=i.default.div.withConfig({displayName:"CollapsePropertyMatrix__Wrapper",componentId:"sc-19phz29-0"})(["display:inline-flex;flex-direction:column;min-width:0;"]),m=function(e){var t=e.availableActions,a=e.childrenForm,n=e.isFormDisabled,r=e.label,l=e.pathToData,i=e.propertyName,f=(0,o.useMemo)((function(){return(0,s.default)(t,i)}),[t,i]);return o.default.createElement(p,null,o.default.createElement(d.default,{label:r,headers:f}),o.default.createElement(u.Box,null,a.map((function(e,t){var a=e.children,r=e.label,u=e.value,s=e.required;return o.default.createElement(c.default,{childrenForm:a,key:u,label:r,isFormDisabled:n,name:u,required:s,propertyActions:f,pathToData:l,propertyName:i,isOdd:t%2===0})}))))};m.propTypes={childrenForm:l.default.array.isRequired,availableActions:l.default.array.isRequired,isFormDisabled:l.default.bool.isRequired,label:l.default.string.isRequired,pathToData:l.default.string.isRequired,propertyName:l.default.string.isRequired};var g=m;t.default=g},20538:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){return e.map((function(e){var a=Array.isArray(e.applyToProperties)&&-1!==e.applyToProperties.indexOf(t)&&e.isDisplayed;return{label:e.label,actionId:e.actionId,isActionRelatedToCurrentProperty:a}}))};t.default=a},62358:(e,t,a)=>{var n=a(95318),r=a(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(63038)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=k(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),i=n(a(45697)),u=n(a(32080)),s=n(a(80499)),d=a(46458),c=a(94117),f=a(40264),p=n(a(27361)),m=n(a(57557)),g=a(97132),b=n(a(78384)),y=a(63376),v=n(a(30380)),h=n(a(47173)),O=n(a(7457)),C=a(12037),E=n(a(43148)),j=a(89362),w=n(a(92168)),P=n(a(73185));function k(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(k=function(e){return e?a:t})(e)}var M=window&&window.strapi&&window.strapi.isEE?a(38706).Z:a(44827).Z,_=function e(t,a){return"\n  ".concat(D," {\n    background-color: ").concat(t.colors.primary100,";\n    color: ").concat(t.colors.primary600,";\n    border-radius: ").concat(a?"2px 2px 0 0":"2px",";\n  }\n  ").concat(S," {\n    display: flex;\n  }\n  ").concat(v.default," {\n    display: block;\n  }\n  &:hover {\n   ").concat((0,P.default)(t),"\n  }\n\n  &:focus-within {\n    ").concat((function(t){var a=t.theme,n=t.isActive;return e(a,n)}),"\n  }\n  \n")},D=b.default.div.withConfig({displayName:"Collapse__Wrapper",componentId:"sc-132fji1-0"})(["flex:1;display:flex;align-items:center;height:",";background-color:",";border:1px solid transparent;"],C.rowHeight,(function(e){var t=e.isGrey,a=e.theme;return t?a.colors.neutral100:a.colors.neutral0})),x=b.default.div.withConfig({displayName:"Collapse__BoxWrapper",componentId:"sc-132fji1-1"})(["display:inline-flex;min-width:100%;","{display:none;}"," &:hover{","}"],v.default,(function(e){var t=e.isActive,a=e.theme;return t&&_(a,t)}),(function(e){var t=e.theme,a=e.isActive;return _(t,a)})),T=(0,b.default)(f.Flex).withConfig({displayName:"Collapse__Cell",componentId:"sc-132fji1-2"})(["width:",";position:relative;"],C.cellWidth),S=(0,b.default)(c.Box).withConfig({displayName:"Collapse__Chevron",componentId:"sc-132fji1-3"})(["display:none;svg{width:11px;}*{fill:",";}"],(function(e){return e.theme.colors.primary600})),R=b.default.span.withConfig({displayName:"Collapse__TinyDot",componentId:"sc-132fji1-4"})(["position:absolute;top:-6px;left:37px;width:6px;height:6px;border-radius:20px;background:",";"],(function(e){return e.theme.colors.primary600})),A=(0,b.default)(c.Box).withConfig({displayName:"Collapse__AbsoluteBox",componentId:"sc-132fji1-5"})(["position:absolute;right:9px;transform:translateY(10px);"]),I=function(e){var t=e.availableActions,a=e.isActive,n=e.isGrey,r=e.isFormDisabled,i=e.label,c=e.onClickToggle,b=e.pathToData,C=(0,l.useState)(!1),P=(0,o.default)(C,2),k=P[0],_=P[1],I=(0,g.useIntl)().formatMessage,F=(0,y.usePermissionsDataManager)(),q=F.modifiedData,N=F.onChangeParentCheckbox,L=F.onChangeSimpleCheckbox,W=function(){_((function(e){return!e}))},B=(0,p.default)(q,b.split(".."),{}),Z=(0,l.useMemo)((function(){return Object.keys(B).reduce((function(e,t){return e[t]=(0,m.default)(B[t],"conditions"),e}),{})}),[B]),G=(0,j.getCheckboxState)(Z),H=G.hasAllActionsSelected,U=G.hasSomeActionsSelected,V=(0,l.useMemo)((function(){return(0,w.default)(t,q,b)}),[t,q,b]),z=V.some((function(e){return e.hasConditions}));return l.default.createElement(x,{isActive:a},l.default.createElement(D,{isGrey:n},l.default.createElement(E.default,{isCollapsable:!0,isFormDisabled:r,label:i,checkboxName:b,onChange:N,onClick:c,someChecked:U,value:H,isActive:a},l.default.createElement(S,{paddingLeft:2},a?l.default.createElement(s.default,null):l.default.createElement(u.default,null))),l.default.createElement(f.Flex,{style:{flex:1}},V.map((function(e){var t=e.actionId,a=e.hasConditions,n=e.hasAllActionsSelected,o=e.hasSomeActionsSelected,u=e.isDisplayed,s=e.isParentCheckbox,c=e.checkboxName,f=e.label;return u?s?l.default.createElement(T,{key:t,justifyContent:"center",alignItems:"center"},a&&l.default.createElement(R,null),l.default.createElement(d.BaseCheckbox,{disabled:r||M,name:c,"aria-label":I({id:"Settings.permissions.select-by-permission",defaultMessage:"Select {label} permission"},{label:"".concat(f," ").concat(i)}),onValueChange:function(e){N({target:{name:c,value:e}})},indeterminate:o,value:n})):l.default.createElement(T,{key:t,justifyContent:"center",alignItems:"center"},a&&l.default.createElement(R,null),l.default.createElement(d.BaseCheckbox,{disabled:r||M,indeterminate:a,name:c,onValueChange:function(e){L({target:{name:c,value:e}})},value:n})):l.default.createElement(O.default,{key:t})}))),k&&l.default.createElement(h.default,{headerBreadCrumbs:[i,"app.components.LeftMenuLinkContainer.settings"],actions:V,isFormDisabled:r,onClosed:function(){_(!1)},onToggle:W})),l.default.createElement(A,null,l.default.createElement(v.default,{onClick:W,hasConditions:z})))};I.propTypes={availableActions:i.default.array.isRequired,isActive:i.default.bool.isRequired,isGrey:i.default.bool.isRequired,isFormDisabled:i.default.bool.isRequired,label:i.default.string.isRequired,onClickToggle:i.default.func.isRequired,pathToData:i.default.string.isRequired};var F=I;t.default=F},44827:(e,t)=>{t.Z=void 0;t.Z=true},92168:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(319)),o=a(96486),l=a(89362),i=function(e,t,a){return e.map((function(e){var n=e.actionId,i=e.isDisplayed,u=e.applyToProperties,s=e.label;if(!i)return{actionId:n,hasSomeActionsSelected:!1,isDisplayed:i};var d=[].concat((0,r.default)(a.split("..")),[n]),c=(0,o.isEmpty)(u)?[].concat((0,r.default)(d),["properties","enabled"]):d,f=c.join(".."),p=(0,o.get)(t,[].concat((0,r.default)(d),["conditions"]),null),m=(0,l.createArrayOfValues)(p).some((function(e){return e}));if((0,o.isEmpty)(u)){var g=(0,o.get)(t,c,!1);return{actionId:n,checkboxName:f,hasAllActionsSelected:g,hasConditions:m,hasSomeActionsSelected:g,isDisplayed:i,isParentCheckbox:!1,label:s,pathToConditionsObject:d}}var b=(0,o.get)(t,c,null),y=(0,l.getCheckboxState)(b);return{actionId:n,checkboxName:f,hasAllActionsSelected:y.hasAllActionsSelected,hasConditions:m,hasSomeActionsSelected:y.hasSomeActionsSelected,isDisplayed:i,isParentCheckbox:!0,label:s,pathToConditionsObject:d}}))};t.default=i},68329:(e,t,a)=>{var n=a(95318),r=a(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(45697)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),i=n(a(78384)),u=n(a(62358)),s=n(a(2417)),d=a(91416);function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}var f=i.default.div.withConfig({displayName:"ContentTypeCollapse__Wrapper",componentId:"sc-1ldk4pa-0"})(["flex-direction:column;display:inline-flex;min-width:100%;",""],(function(e){var t=e.theme;return e.isActive&&"border: 1px solid ".concat(t.colors.primary600,";")})),p=function(e){var t=e.allActions,a=e.contentTypeName,n=e.label,r=e.index,o=e.isActive,i=e.isFormDisabled,c=e.onClickToggleCollapse,p=e.pathToData,m=e.properties,g=(0,l.useCallback)((function(){c(a)}),[a,c]),b=(0,l.useMemo)((function(){return(0,d.getAvailableActions)(t,a)}),[t,a]);return l.default.createElement(f,{isActive:o},l.default.createElement(u.default,{availableActions:b,isActive:o,isGrey:r%2===0,isFormDisabled:i,label:n,onClickToggle:g,pathToData:p}),o&&m.map((function(e){var t=e.label,a=e.value,n=e.children;return l.default.createElement(s.default,{availableActions:b,childrenForm:n,isFormDisabled:i,label:t,pathToData:p,propertyName:a,key:a})})))};p.propTypes={allActions:o.default.array.isRequired,contentTypeName:o.default.string.isRequired,index:o.default.number.isRequired,isActive:o.default.bool.isRequired,isFormDisabled:o.default.bool.isRequired,label:o.default.string.isRequired,onClickToggleCollapse:o.default.func.isRequired,pathToData:o.default.string.isRequired,properties:o.default.array.isRequired};var m=p;t.default=m},73185:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(33483),o=n(a(98459)),l=function(e){return"\n  ".concat(r.Typography," {\n    color: ").concat(e.colors.primary600,";\n    font-weight: ").concat(e.fontWeights.bold,"\n  }\n  ").concat(o.default," {\n    display: block;\n    path {\n      fill: ").concat(e.colors.primary600,"\n    };\n  }\n")};t.default=l},86982:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(59713));function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var i=function(e,t){return e.map((function(e){var a=Array.isArray(e.subjects)&&-1!==e.subjects.indexOf(t);return l(l({},e),{},{isDisplayed:a})}))};t.default=i},91416:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"activeStyle",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"getAvailableActions",{enumerable:!0,get:function(){return o.default}});var r=n(a(73185)),o=n(a(86982))},71088:(e,t,a)=>{var n=a(95318),r=a(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(63038)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),i=n(a(45697)),u=n(a(68329));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}var d=function(e){var t=e.actions,a=e.isFormDisabled,n=e.pathToData,r=e.subjects,i=(0,l.useState)(null),s=(0,o.default)(i,2),d=s[0],c=s[1],f=function(e){c(d===e?null:e)};return r.map((function(e,r){var o=e.uid,i=e.label,s=e.properties;return l.default.createElement(u.default,{allActions:t,key:o,contentTypeName:o,label:i,isActive:d===o,isFormDisabled:a,index:r,onClickToggleCollapse:f,pathToData:"".concat(n,"..").concat(o),properties:s})}))};d.defaultProps={actions:[],subjects:[]},d.propTypes={actions:i.default.array.isRequired,isFormDisabled:i.default.bool.isRequired,pathToData:i.default.string.isRequired,subjects:i.default.arrayOf(i.default.shape({uid:i.default.string.isRequired,label:i.default.string.isRequired,properties:i.default.array.isRequired}))};var c=(0,l.memo)(d);t.default=c},65743:(e,t,a)=>{var n=a(95318),r=a(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(319)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),i=n(a(45697)),u=a(94117),s=n(a(78384)),d=n(a(89734)),c=n(a(71088)),f=n(a(96630));function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}var m=(0,s.default)(u.Box).withConfig({displayName:"ContentTypes__StyledBox",componentId:"sc-1hdkmsf-0"})(["overflow-x:auto;"]),g=function(e){var t=e.isFormDisabled,a=e.kind,n=e.layout,r=n.actions,i=n.subjects,u=(0,d.default)((0,o.default)(i),"label");return l.default.createElement(m,{background:"neutral0"},l.default.createElement(f.default,{actions:r,kind:a,isFormDisabled:t}),l.default.createElement(c.default,{actions:r,isFormDisabled:t,pathToData:a,subjects:u}))};g.propTypes={isFormDisabled:i.default.bool.isRequired,kind:i.default.string.isRequired,layout:i.default.shape({actions:i.default.array,subjects:i.default.arrayOf(i.default.shape({uid:i.default.string.isRequired,label:i.default.string.isRequired,properties:i.default.array.isRequired}))}).isRequired};var b=(0,l.memo)(g);t.default=b},55946:(e,t,a)=>{var n=a(95318),r=a(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(67154)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),i=n(a(45697)),u=n(a(78384)),s=a(94117);function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}var c=(0,u.default)(s.Box).withConfig({displayName:"Curve__StyledBox",componentId:"sc-18jpkp6-0"})(["transform:translate(-4px,-12px);&:before{content:'';width:","rem;height:","rem;background:",";display:block;}"],.25,.75,(function(e){return e.theme.colors.primary200})),f=u.default.svg.withConfig({displayName:"Curve__Svg",componentId:"sc-18jpkp6-1"})(["position:relative;flex-shrink:0;transform:translate(-0.5px,-1px);*{fill:",";}"],(function(e){var t=e.theme,a=e.color;return t.colors[a]})),p=function(e){return l.default.createElement(c,null,l.default.createElement(f,(0,o.default)({width:"20",height:"23",viewBox:"0 0 20 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),l.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.02477 14.7513C8.65865 17.0594 11.6046 18.6059 17.5596 18.8856C18.6836 18.9384 19.5976 19.8435 19.5976 20.9688V20.9688C19.5976 22.0941 18.6841 23.0125 17.5599 22.9643C10.9409 22.6805 6.454 20.9387 3.75496 17.1258C0.937988 13.1464 0.486328 7.39309 0.486328 0.593262H4.50974C4.50974 7.54693 5.06394 11.9813 7.02477 14.7513Z",fill:"#D9D8FF"})))};p.defaultProps={fill:"primary200"},p.propTypes={fill:i.default.string};var m=(0,l.memo)(p);t.default=m},96630:(e,t,a)=>{var n=a(95318),r=a(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),l=n(a(45697)),i=a(46458),u=a(94117),s=a(9524),d=a(33483),c=n(a(78384)),f=n(a(27361)),p=a(97132),m=a(63376),g=a(12037),b=a(38178);function y(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}var v=window&&window.strapi&&window.strapi.isEE?a(70398).Z:a(7434).Z,h=(0,c.default)(s.Stack).withConfig({displayName:"GlobalActions__CenteredStack",componentId:"sc-1vxwsjr-0"})(["align-items:center;justify-content:center;width:",";flex-shrink:0;"],g.cellWidth),O=function(e){var t=e.actions,a=e.isFormDisabled,n=e.kind,r=(0,p.useIntl)().formatMessage,l=(0,m.usePermissionsDataManager)(),c=l.modifiedData,y=l.onChangeCollectionTypeGlobalActionCheckbox,O=(0,o.useMemo)((function(){return(0,b.findDisplayedActions)(t)}),[t]),C=(0,o.useMemo)((function(){return(0,b.getCheckboxesState)(O,c[n])}),[c,O,n]);return o.default.createElement(u.Box,{paddingBottom:4,paddingTop:6,style:{paddingLeft:g.firstRowWidth}},o.default.createElement(s.Stack,{horizontal:!0,spacing:0},O.map((function(e){var t=e.label,l=e.actionId;return o.default.createElement(h,{key:l,spacing:3},o.default.createElement(d.Typography,{variant:"sigma",textColor:"neutral500"},r({id:"Settings.roles.form.permissions.".concat(t.toLowerCase()),defaultMessage:t})),o.default.createElement(i.BaseCheckbox,{disabled:a||v,onValueChange:function(e){y(n,l,e)},name:l,"aria-label":r({id:"Settings.permissions.select-all-by-permission",defaultMessage:"Select all {label} permissions"},{label:r({id:"Settings.roles.form.permissions.".concat(t.toLowerCase()),defaultMessage:t})}),value:(0,f.default)(C,[l,"hasAllActionsSelected"],!1),indeterminate:(0,f.default)(C,[l,"hasSomeActionsSelected"],!1)}))}))))};O.defaultProps={actions:[]},O.propTypes={actions:l.default.arrayOf(l.default.shape({label:l.default.string.isRequired,actionId:l.default.string.isRequired,subjects:l.default.array.isRequired})),isFormDisabled:l.default.bool.isRequired,kind:l.default.string.isRequired};var C=(0,o.memo)(O);t.default=C},7434:(e,t)=>{t.Z=void 0;t.Z=true},34169:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e.filter((function(e){var t=e.subjects;return t&&t.length}))};t.default=a},25554:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.getRelatedActionIdData=t.getActionsIds=t.default=void 0;var r=n(a(59713)),o=a(96486),l=a(89362);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s=function(e){return e.map((function(e){return e.actionId}))};t.getActionsIds=s;var d=function(e,t){return e.reduce((function(e,a){return Object.keys(t).forEach((function(n){var i=(0,o.get)(t,[n,a],{}),s=(0,r.default)({},n,(0,l.removeConditionKeyFromData)(i));e[a]?e[a]=u(u({},e[a]),s):e[a]=s})),e}),{})};t.getRelatedActionIdData=d;var c=function(e,t){var a=s(e),n=d(a,t);return Object.keys(n).reduce((function(e,t){return e[t]=(0,l.getCheckboxState)(n[t]),e}),{})};t.default=c},38178:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"findDisplayedActions",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"getCheckboxesState",{enumerable:!0,get:function(){return o.default}});var r=n(a(34169)),o=n(a(25554))},7457:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(78384)),o=a(12037),l=r.default.div.withConfig({displayName:"HiddenAction",componentId:"sc-uuwuy1-0"})(["width:",";"],o.cellWidth);t.default=l},15102:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),o=n(a(45697)),l=a(66592),i=function(e){var t=e.children,a=e.value;return r.default.createElement(l.PermissionsDataManagerContext.Provider,{value:a},t)};i.propTypes={children:o.default.node.isRequired,value:o.default.exact({availableConditions:o.default.array.isRequired,modifiedData:o.default.object.isRequired,onChangeCollectionTypeLeftActionRowCheckbox:o.default.func.isRequired,onChangeConditions:o.default.func.isRequired,onChangeSimpleCheckbox:o.default.func.isRequired,onChangeParentCheckbox:o.default.func.isRequired,onChangeCollectionTypeGlobalActionCheckbox:o.default.func.isRequired}).isRequired};var u=i;t.default=u},74716:(e,t,a)=>{var n=a(95318),r=a(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(59713)),l=n(a(63038)),i=E(a(53547)),u=n(a(45697)),s=a(68547),d=a(1738),c=n(a(18721)),f=n(a(41609)),p=a(97132),m=n(a(65743)),g=n(a(15102)),b=n(a(3030)),y=n(a(65600)),v=E(a(96096)),h=n(a(47959)),O=n(a(77032));function C(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}return n.default=e,a&&a.set(e,n),n}function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var P=(0,i.forwardRef)((function(e,t){var a=e.layout,n=e.isFormDisabled,r=e.permissions,o=(0,i.useReducer)(v.default,v.initialState,(function(){return(0,y.default)(a,r)})),u=(0,l.default)(o,2),C=u[0],E=C.initialData,j=C.layouts,P=C.modifiedData,k=u[1],M=(0,p.useIntl)().formatMessage;(0,i.useImperativeHandle)(t,(function(){return{getPermissions:function(){var e,t=(0,s.difference)(E.collectionTypes,P.collectionTypes),a=(0,s.difference)(E.singleTypes,P.singleTypes),n=w(w({},t),a);return e=!(0,f.default)(n)&&Object.values(n).some((function(e){return Object.values(e).some((function(e){return(0,c.default)(e,"conditions")}))})),{permissionsToSend:(0,h.default)(P),didUpdateConditions:e}},resetForm:function(){k({type:"RESET_FORM"})},setFormAfterSubmit:function(){k({type:"SET_FORM_AFTER_SUBMIT"})}}}));var _=(0,i.useCallback)((function(e){var t=e.target,a=t.name,n=t.value;k({type:"ON_CHANGE_SIMPLE_CHECKBOX",keys:a,value:n})}),[]),D=(0,i.useCallback)((function(e){var t=e.target,a=t.name,n=t.value;k({type:"ON_CHANGE_TOGGLE_PARENT_CHECKBOX",keys:a,value:n})}),[]);return i.default.createElement(g.default,{value:{availableConditions:a.conditions,modifiedData:P,onChangeConditions:function(e){k({type:"ON_CHANGE_CONDITIONS",conditions:e})},onChangeSimpleCheckbox:_,onChangeParentCheckbox:D,onChangeCollectionTypeLeftActionRowCheckbox:function(e,t,a,n){k({type:"ON_CHANGE_COLLECTION_TYPE_ROW_LEFT_CHECKBOX",pathToCollectionType:e,propertyName:t,rowName:a,value:n})},onChangeCollectionTypeGlobalActionCheckbox:function(e,t,a){k({type:"ON_CHANGE_COLLECTION_TYPE_GLOBAL_ACTION_CHECKBOX",collectionTypeKind:e,actionId:t,value:a})}}},i.default.createElement(d.TabGroup,{id:"tabs",label:M({id:"Settings.permissions.users.tabs.label",defaultMessage:"Tabs Permissions"})},i.default.createElement(d.Tabs,null,O.default.map((function(e){return i.default.createElement(d.Tab,{key:e.id},M({id:e.labelId,defaultMessage:e.defaultMessage}))}))),i.default.createElement(d.TabPanels,{style:{position:"relative"}},i.default.createElement(d.TabPanel,null,i.default.createElement(m.default,{layout:j.collectionTypes,kind:"collectionTypes",isFormDisabled:n})),i.default.createElement(d.TabPanel,null,i.default.createElement(m.default,{layout:j.singleTypes,kind:"singleTypes",isFormDisabled:n})),i.default.createElement(d.TabPanel,null,i.default.createElement(b.default,{layout:j.plugins,kind:"plugins",isFormDisabled:n})),i.default.createElement(d.TabPanel,null,i.default.createElement(b.default,{layout:j.settings,kind:"settings",isFormDisabled:n})))))}));P.defaultProps={permissions:[],layout:{conditions:[],sections:{collectionTypes:{},singleTypes:{actions:[]},settings:[],plugins:[]}}},P.propTypes={layout:u.default.object,isFormDisabled:u.default.bool.isRequired,permissions:u.default.array};var k=(0,i.memo)(P);t.default=k},65600:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(83606)),o=n(a(91872)),l=n(a(86203)),i=function(e,t){var a=e.conditions,n=e.sections,i=n.collectionTypes,u=n.singleTypes,s=n.plugins,d=n.settings,c={collectionTypes:i,singleTypes:u,plugins:(0,l.default)(s,"plugin"),settings:(0,l.default)(d,"category")},f={collectionTypes:(0,r.default)(i,i.actions||[],a,t),singleTypes:(0,r.default)(u,u.actions||[],a,t),plugins:(0,o.default)(c.plugins,a,t),settings:(0,o.default)(c.settings,a,t)};return{initialData:f,modifiedData:f,layouts:c}};t.default=i},96096:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var r=n(a(63038)),o=n(a(319)),l=n(a(59713)),i=n(a(66312)),u=a(96486),s=n(a(88879)),d=n(a(45504));function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.initialState={initialData:{},modifiedData:{},layouts:{}};var p=function(e,t){return(0,i.default)(e,(function(a){switch(t.type){case"ON_CHANGE_COLLECTION_TYPE_GLOBAL_ACTION_CHECKBOX":var n=t.collectionTypeKind,l=t.actionId,i=t.value,c=["modifiedData",n];Object.keys((0,u.get)(e,c)).forEach((function(t){var n=(0,u.get)(e,[].concat(c,[t,l]),void 0);if(n){var r=(0,d.default)(n,i);if(!i&&r.conditions){var o=(0,d.default)(r.conditions,!1);r=f(f({},r),{},{conditions:o})}(0,u.set)(a,[].concat(c,[t,l]),r)}}));break;case"ON_CHANGE_COLLECTION_TYPE_ROW_LEFT_CHECKBOX":var p=t.pathToCollectionType,m=t.propertyName,g=t.rowName,b=t.value,y=(0,u.cloneDeep)(e.modifiedData),v=p.split(".."),h=(0,u.get)(y,v,{});Object.keys(h).forEach((function(e){if((0,u.has)(h[e],"properties.".concat(m))){var t=(0,u.get)(h,[e,"properties",m,g]),a=[].concat((0,o.default)(v),[e,"properties",m,g]);if((0,u.isObject)(t)){var n=(0,d.default)(t,b);(0,u.set)(y,a,n)}else(0,u.set)(y,a,b)}})),b||(y=(0,s.default)(y)),(0,u.set)(a,"modifiedData",y);break;case"ON_CHANGE_CONDITIONS":Object.entries(t.conditions).forEach((function(e){var t=(0,r.default)(e,2),n=t[0],l=t[1];(0,u.set)(a,["modifiedData"].concat((0,o.default)(n.split("..")),["conditions"]),l)}));break;case"ON_CHANGE_SIMPLE_CHECKBOX":var O=(0,u.cloneDeep)(e.modifiedData);(0,u.set)(O,(0,o.default)(t.keys.split("..")),t.value),t.value||(O=(0,s.default)(O)),(0,u.set)(a,"modifiedData",O);break;case"ON_CHANGE_TOGGLE_PARENT_CHECKBOX":var C=t.keys,E=t.value,j=(0,o.default)(C.split("..")),w=(0,u.cloneDeep)(e.modifiedData),P=(0,u.get)(w,j,{}),k=(0,d.default)(P,E);(0,u.set)(w,j,k),E||(w=(0,s.default)(w)),(0,u.set)(a,["modifiedData"],w);break;case"RESET_FORM":a.modifiedData=e.initialData;break;case"SET_FORM_AFTER_SUBMIT":a.initialData=e.modifiedData;break;default:return a}}))};t.default=p},12037:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.rowHeight=t.firstRowWidth=t.cellWidth=void 0;var a="".concat(7.5,"rem");t.cellWidth=a;var n="".concat(12.5,"rem");t.firstRowWidth=n;var r="".concat(53/16,"rem");t.rowHeight=r},83606:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.findLayouts=t.default=t.createDefaultPropertyForms=t.createDefaultPropertiesForm=t.createDefaultConditionsForm=void 0;var r=n(a(59713)),o=a(96486),l=n(a(19010));function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.reduce((function(e,a){return e[a.id]=-1!==t.indexOf(a.id),e}),{})};t.createDefaultConditionsForm=s;var d=function e(t,a){var n=t.children,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return n.reduce((function(t,n){if(n.children)return u(u({},t),{},(0,r.default)({},n.value,e(n,a,"".concat(o).concat(n.value,"."))));var l=-1!==a.indexOf("".concat(o).concat(n.value));return t[n.value]=l,t}),{})};t.createDefaultPropertyForms=d;var c=function(e,t,a){return e.reduce((function(e,n){var r=t.properties.find((function(e){return e.value===n}));if(r){var l=(0,o.get)(a,["properties",r.value],[]),i=d(r,l);e.properties[n]=i}return e}),{properties:{}})};t.createDefaultPropertiesForm=c;var f=function(e,t){return t.reduce((function(t,a){var n=e.find((function(e){return e.uid===a}))||null;return n&&(t[a]=n),t}),{})};t.findLayouts=f;var p=function(e,t,a){var n=e.subjects,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return t.reduce((function(e,t){var i=t.subjects,d=f(n,i);if((0,o.isEmpty)(d))return e;var p=Object.keys(d).reduce((function(e,n){var i=t.actionId,f=t.applyToProperties,p=d[n].properties.map((function(e){return e.value})).every((function(e){return-1===(f||[]).indexOf(e)})),m=(0,l.default)(r,i,n),g=s(a,(0,o.get)(m,"conditions",[]));if((0,o.isEmpty)(f)||p)return(0,o.set)(e,[n,i],{properties:{enabled:void 0!==m},conditions:g}),e;var b=c(f,d[n],m);return(0,o.set)(e,[n,i],u(u({},b),{},{conditions:g})),e}),{});return(0,o.merge)(e,p)}),{})};t.default=p},91872:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createSubCategoryForm=t.createChildrenDefaultForm=void 0;var r=a(96486),o=a(83606),l=n(a(19010)),i=function(e,t,a){return e.reduce((function(e,n){var i=(0,l.default)(a,n.action,null);return e[n.action]={properties:{enabled:void 0!==i},conditions:(0,o.createDefaultConditionsForm)(t,(0,r.get)(i,"conditions",[]))},e}),{})};t.createSubCategoryForm=i;var u=function(e,t,a){return e.reduce((function(e,n){return e[n.subCategoryId]=i(n.actions,t,a),e}),{})};t.createChildrenDefaultForm=u;var s=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.reduce((function(e,n){var r=n.categoryId,o=n.childrenForm,l=u(o,t,a);return e[r]=l,e}),{})};t.default=s},19010:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t,a){return e.find((function(e){return e.action===t&&e.subject===a}))};t.default=a},9346:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createPropertyArray=t.createPermissionWithProperties=void 0;var r=n(a(319)),o=n(a(63038)),l=a(96486),i=a(89362),u=a(49896),s=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.entries(t).reduce((function(t,n){var i=(0,o.default)(n,2),u=i[0],s=i[1];return(0,l.isObject)(s)?[].concat((0,r.default)(t),(0,r.default)(e(s,"".concat(a).concat(u,".")))):(s&&!(0,l.isObject)(s)&&t.push("".concat(a).concat(u)),t)}),[])};t.createPropertyArray=s;var d=function(e,t,a){var n=a.conditions,r=a.properties;return Object.entries(r).reduce((function(e,t){var a=(0,o.default)(t,2),n=a[0],r=a[1];return e.properties[n]=s(r),e}),{action:e,subject:t,conditions:(0,u.createConditionsArray)(n),properties:{}})};t.createPermissionWithProperties=d;var c=function(e,t){var a=Object.entries(t).reduce((function(t,a){var n=(0,o.default)(a,2),s=n[0],c=n[1];if(!(0,i.createArrayOfValues)(c).some((function(e){return e})))return t;if(!(0,l.has)(c,"properties.enabled")){var f=d(s,e,c);return[].concat((0,r.default)(t),[f])}if(!c.properties.enabled)return t;var p=function(e,t,a){var n=a.conditions;return{action:e,subject:t,properties:{},conditions:(0,u.createConditionsArray)(n)}}(s,e,c);return t.push(p),t}),[]);return a},f=function(e){return Object.entries(e).reduce((function(e,t){var a=(0,o.default)(t,2),n=a[0],l=a[1],i=c(n,l);return[].concat((0,r.default)(e),(0,r.default)(i))}),[])};t.default=f},86203:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(96486),r=function(e){return e.split(" ").join("-")},o=function(e,t){return(0,n.chain)(e).groupBy(t).map((function(e,t){return{category:t,categoryId:r(t),childrenForm:(0,n.chain)(e).groupBy("subCategory").map((function(e,t){return{subCategoryName:t,subCategoryId:r(t),actions:e}})).value()}})).value()};t.default=o},47959:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(319)),o=n(a(9346)),l=n(a(49896)),i=function(e){var t=(0,l.default)(e.plugins),a=(0,l.default)(e.settings),n=(0,o.default)(e.collectionTypes),i=(0,o.default)(e.singleTypes);return[].concat((0,r.default)(t),(0,r.default)(a),(0,r.default)(n),(0,r.default)(i))};t.default=i},49896:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createPermissionsArrayFromCategory=t.createPermission=t.createConditionsArray=void 0;var r=n(a(319)),o=n(a(63038)),l=function(e){return Object.entries(e).filter((function(e){return(0,o.default)(e,2)[1]})).map((function(e){return(0,o.default)(e,1)[0]}))};t.createConditionsArray=l;var i=function(e){var t=(0,o.default)(e,2),a=t[0],n=t[1].conditions;return{action:a,subject:null,conditions:l(n),properties:{}}};t.createPermission=i;var u=function(e){return Object.values(e).reduce((function(e,t){var a=Object.entries(t).reduce((function(e,t){if(!(0,o.default)(t,2)[1].properties.enabled)return e;var a=i(t);return e.push(a),e}),[]);return[].concat((0,r.default)(e),(0,r.default)(a))}),[])};t.createPermissionsArrayFromCategory=u;var s=function(e){return Object.values(e).reduce((function(e,t){var a=u(t);return[].concat((0,r.default)(e),(0,r.default)(a))}),[])};t.default=s},77032:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=[{labelId:"app.components.LeftMenuLinkContainer.collectionTypes",defaultMessage:"Collection Types",id:"collectionTypes"},{labelId:"app.components.LeftMenuLinkContainer.singleTypes",id:"singleTypes",defaultMessage:"Single Types"},{labelId:"app.components.LeftMenuLinkContainer.plugins",defaultMessage:"Plugins",id:"plugins"},{labelId:"app.components.LeftMenuLinkContainer.settings",defaultMessage:"Settings",id:"settings"}];t.default=a},88879:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(59713)),o=a(96486),l=a(89362);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s=function e(t){return Object.keys(t).reduce((function(a,n){var i=t[n];if((0,o.isObject)(i)&&!(0,o.has)(i,"conditions"))return u(u({},a),{},(0,r.default)({},n,e(i)));if((0,o.isObject)(i)&&(0,o.has)(i,"conditions")&&!(0,l.createArrayOfValues)((0,o.omit)(i,"conditions")).some((function(e){return e}))){var s=Object.keys(i.conditions).reduce((function(e,t){return e[t]=!1,e}),{});return u(u({},a),{},(0,r.default)({},n,u(u({},i),{},{conditions:s})))}return a[n]=i,a}),{})};t.default=s},45504:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(59713)),o=a(96486);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u=function e(t,a){return Object.keys(t).reduce((function(n,l){var u=t[l];return"conditions"===l?(n[l]=u,n):(0,o.isObject)(u)?i(i({},n),{},(0,r.default)({},l,e(u,a))):(n[l]=a,n)}),{})};t.default=u},90240:(e,t,a)=>{var n=a(95318),r=a(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(319)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),i=n(a(45697)),u=a(47949),s=a(94117),d=n(a(11700)),c=a(97132),f=n(a(73009));function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}var m=function(e){var t=e.childrenForm,a=e.kind,n=e.name,r=e.isOpen,i=e.isFormDisabled,p=e.isWhite,m=e.onOpenCategory,g=e.pathToData,b=(0,c.useIntl)().formatMessage,y=(0,l.useMemo)((function(){return n.split("::").pop()}),[n]);return l.default.createElement(u.Accordion,{expanded:r,onToggle:function(){m(n)},id:"accordion-".concat(n),variant:p?"primary":"secondary"},l.default.createElement(u.AccordionToggle,{title:(0,d.default)(y),description:"".concat(b({id:"Settings.permissions.category"},{category:y})," ").concat("plugins"===a?"plugin":a)}),l.default.createElement(u.AccordionContent,null,l.default.createElement(s.Box,{padding:6},t.map((function(e){var t=e.actions,a=e.subCategoryName,n=e.subCategoryId;return l.default.createElement(f.default,{key:a,actions:t,categoryName:y,isFormDisabled:i,subCategoryName:a,pathToData:[].concat((0,o.default)(g),[n])})})))))};m.defaultProps={},m.propTypes={childrenForm:i.default.array.isRequired,isOpen:i.default.bool.isRequired,isFormDisabled:i.default.bool.isRequired,isWhite:i.default.bool.isRequired,kind:i.default.string.isRequired,name:i.default.string.isRequired,onOpenCategory:i.default.func.isRequired,pathToData:i.default.array.isRequired};var g=m;t.default=g},73009:(e,t,a)=>{var n=a(95318),r=a(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(319)),l=n(a(63038)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),u=n(a(78384)),s=n(a(45697)),d=a(39272),c=a(94117),f=a(43499),p=a(40264),m=a(33483),g=a(97132),b=n(a(27361)),y=a(63376),v=a(89362),h=n(a(30380)),O=n(a(47173)),C=a(54972);function E(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}var j=window&&window.strapi&&window.strapi.isEE?a(42391).Z:a(92534).Z,w=u.default.div.withConfig({displayName:"SubCategory__Border",componentId:"sc-akgczm-0"})(["flex:1;align-self:center;border-top:1px solid ",";"],(function(e){return e.theme.colors.neutral150})),P=u.default.div.withConfig({displayName:"SubCategory__CheckboxWrapper",componentId:"sc-akgczm-1"})(["position:relative;word-break:keep-all;",""],(function(e){var t=e.hasConditions,a=e.disabled,n=e.theme;return t&&"\n    &:before {\n      content: '';\n      position: absolute;\n      top: ".concat(-.25,"rem;\n      left: ").concat(-.5,"rem;\n      width: ").concat(6/16,"rem;\n      height: ").concat(6/16,"rem;\n      border-radius: ").concat(1.25,"rem;\n      background: ").concat(a?n.colors.neutral100:n.colors.primary600,";\n    }\n  ")})),k=function(e){var t=e.categoryName,a=e.isFormDisabled,n=e.subCategoryName,r=e.actions,u=e.pathToData,s=(0,i.useState)(!1),E=(0,l.default)(s,2),k=E[0],M=E[1],_=(0,y.usePermissionsDataManager)(),D=_.modifiedData,x=_.onChangeParentCheckbox,T=_.onChangeSimpleCheckbox,S=(0,g.useIntl)().formatMessage,R=(0,b.default)(D,u,{}),A=(0,i.useMemo)((function(){return Object.keys(R).reduce((function(e,t){return e[t]=(0,v.removeConditionKeyFromData)(R[t]),e}),{})}),[R]),I=(0,v.getCheckboxState)(A),F=I.hasAllActionsSelected,q=I.hasSomeActionsSelected,N=function(){M((function(e){return!e}))},L=(0,C.formatActions)(r,D,u),W=(0,C.getConditionsButtonState)((0,b.default)(D,(0,o.default)(u),{}));return i.default.createElement(i.default.Fragment,null,i.default.createElement(c.Box,null,i.default.createElement(p.Flex,{justifyContent:"space-between",alignItems:"center"},i.default.createElement(c.Box,{paddingRight:4},i.default.createElement(m.Typography,{variant:"sigma",textColor:"neutral600"},n)),i.default.createElement(w,null),i.default.createElement(c.Box,{paddingLeft:4},i.default.createElement(f.Checkbox,{name:u.join(".."),disabled:a||j,onValueChange:function(e){x({target:{name:u.join(".."),value:e}})},indeterminate:q,value:F},S({id:"app.utils.select-all",defaultMessage:"Select all"})))),i.default.createElement(p.Flex,{paddingTop:6,paddingBottom:6},i.default.createElement(d.Grid,{gap:2,style:{flex:1}},L.map((function(e){var t=e.checkboxName,n=e.value,r=e.action,o=e.displayName,l=e.hasConditions;return i.default.createElement(d.GridItem,{col:3,key:r},i.default.createElement(P,{disabled:a||j,hasConditions:l},i.default.createElement(f.Checkbox,{name:t,disabled:a||j,onValueChange:function(e){T({target:{name:t,value:e}})},value:n},o)))}))),i.default.createElement(h.default,{hasConditions:W,onClick:N}))),k&&i.default.createElement(O.default,{headerBreadCrumbs:[t,n],actions:L,isFormDisabled:a,onClosed:function(){M(!1)},onToggle:N}))};k.propTypes={actions:s.default.array.isRequired,categoryName:s.default.string.isRequired,isFormDisabled:s.default.bool.isRequired,subCategoryName:s.default.string.isRequired,pathToData:s.default.array.isRequired};var M=k;t.default=M},92534:(e,t)=>{t.Z=void 0;t.Z=true},63806:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(59713)),o=n(a(319)),l=a(96486),i=a(89362);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d=function(e,t,a){return e.map((function(e){var n=[].concat((0,o.default)(a),[e.action,"properties","enabled"]),r=(0,l.get)(t,n,!1),u=(0,l.get)(t,[].concat((0,o.default)(a),[e.action,"conditions"]),{}),d=(0,i.createArrayOfValues)(u).some((function(e){return e}));return s(s({},e),{},{isDisplayed:r,checkboxName:n.join(".."),hasSomeActionsSelected:r,value:r,hasConditions:d,label:e.displayName,actionId:e.action,pathToConditionsObject:[].concat((0,o.default)(a),[e.action])})}))};t.default=d},25236:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(63038)),o=a(89362),l=function(e){var t=Object.entries(e).reduce((function(e,t){var a=(0,r.default)(t,2),n=a[0],o=a[1].conditions;return e[n]=o,e}),{});return(0,o.createArrayOfValues)(t).some((function(e){return e}))};t.default=l},54972:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatActions",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"getConditionsButtonState",{enumerable:!0,get:function(){return o.default}});var r=n(a(63806)),o=n(a(25236))},3030:(e,t,a)=>{var n=a(95318),r=a(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(63038)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),i=n(a(45697)),u=a(94117),s=n(a(90240));function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}var c=function(e){var t=e.isFormDisabled,a=e.kind,n=e.layout,r=(0,l.useState)(null),i=(0,o.default)(r,2),d=i[0],c=i[1],f=function(e){c(e===d?null:e)};return l.default.createElement(u.Box,{padding:6,background:"neutral0"},n.map((function(e,n){var r=e.category,o=e.categoryId,i=e.childrenForm;return l.default.createElement(s.default,{key:r,childrenForm:i,kind:a,isFormDisabled:t,isOpen:d===r,isWhite:n%2===1,name:r,onOpenCategory:f,pathToData:[a,o]})})))};c.propTypes={isFormDisabled:i.default.bool.isRequired,kind:i.default.string.isRequired,layout:i.default.arrayOf(i.default.shape({category:i.default.string.isRequired,categoryId:i.default.string.isRequired,childrenForm:i.default.arrayOf(i.default.shape({actions:i.default.array.isRequired})).isRequired}).isRequired).isRequired};var f=c;t.default=f},92395:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(53547)),o=n(a(78384)).default.span.withConfig({displayName:"RequiredSign__Required",componentId:"sc-13rz75o-0"})(["color:",";padding-left:","px;"],(function(e){return e.theme.colors.danger700}),(function(e){return e.theme.spaces[1]})),l=function(){return r.default.createElement(o,null,"*")};t.default=l},43148:(e,t,a)=>{var n=a(95318),r=a(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(67154)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),i=n(a(45697)),u=a(46458),s=a(94117),d=a(40264),c=a(33483),f=n(a(11700)),p=a(97132),m=n(a(21950)),g=a(12037);function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}var y=function(e){var t=e.children,a=e.isCollapsable,n=e.isActive,r=e.isFormDisabled,i=e.label,b=e.onChange,y=e.onClick,v=e.checkboxName,h=e.someChecked,O=e.value,C=(0,p.useIntl)().formatMessage;return l.default.createElement(d.Flex,{alignItems:"center",paddingLeft:6,style:{width:g.firstRowWidth,flexShrink:0}},l.default.createElement(s.Box,{paddingRight:2},l.default.createElement(u.BaseCheckbox,{name:v,"aria-label":C({id:"Settings.permissions.select-all-by-permission",defaultMessage:"Select all {label} permissions"},{label:i}),disabled:r,onValueChange:function(e){return b({target:{name:v,value:e}})},indeterminate:h,value:O})),l.default.createElement(m.default,(0,o.default)({title:i,alignItems:"center",isCollapsable:a},a&&{onClick:y,"aria-expanded":n,onKeyDown:function(e){var t=e.key;return("Enter"===t||" "===t)&&y()},tabIndex:0,role:"button"}),l.default.createElement(c.Typography,{fontWeight:n?"bold":"",textColor:n?"primary600":"neutral800",ellipsis:!0},(0,f.default)(i)),t))};y.defaultProps={children:null,checkboxName:"",onChange:function(){},value:!1,someChecked:!1,isCollapsable:!1},y.propTypes={checkboxName:i.default.string,children:i.default.node,label:i.default.string.isRequired,isCollapsable:i.default.bool,isFormDisabled:i.default.bool.isRequired,onChange:i.default.func,onClick:i.default.func.isRequired,someChecked:i.default.bool,value:i.default.bool,isActive:i.default.bool.isRequired};var v=(0,l.memo)(y);t.default=v},79793:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(96486),r=function e(t){return(0,n.isObject)(t)?(0,n.flattenDeep)(Object.values(t).map((function(t){return(0,n.isObject)(t)?e(t):t}))):[]};t.default=r},18450:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(79793)),o=n(a(79634)),l=function(e){var t=(0,o.default)(e),a=(0,r.default)(t);if(!a.length)return{hasAllActionsSelected:!1,hasSomeActionsSelected:!1};var n=a.every((function(e){return e}));return{hasAllActionsSelected:n,hasSomeActionsSelected:a.some((function(e){return e}))&&!n}};t.default=l},89362:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createArrayOfValues",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"getCheckboxState",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"removeConditionKeyFromData",{enumerable:!0,get:function(){return l.default}});var r=n(a(18450)),o=n(a(79793)),l=n(a(79634))},79634:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e?Object.keys(e).reduce((function(t,a){return"conditions"!==a&&(t[a]=e[a]),t}),{}):null};t.default=a},6648:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return"todo empty role"}},62799:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67154)),o=n(a(53547)),l=n(a(45697)),i=a(94117),u=a(40264),s=a(43546),d=a(33483),c=a(49549),f=a(68547),p=a(97132),m=function(e){var t=e.id,a=e.name,n=e.description,l=e.usersCount,m=e.icons,g=(0,(0,p.useIntl)().formatMessage)({id:"Roles.RoleRow.user-count",defaultMessage:"{number, plural, =0 {#  user} one {#  user} other {# users}}"},{number:l});return o.default.createElement(s.Tr,(0,r.default)({key:t},(0,f.onRowClick)({fn:m[1].onClick})),o.default.createElement(s.Td,{maxWidth:(0,f.pxToRem)(130)},o.default.createElement(d.Typography,{ellipsis:!0,textColor:"neutral800"},a)),o.default.createElement(s.Td,{maxWidth:(0,f.pxToRem)(250)},o.default.createElement(d.Typography,{ellipsis:!0,textColor:"neutral800"},n)),o.default.createElement(s.Td,null,o.default.createElement(d.Typography,{textColor:"neutral800"},g)),o.default.createElement(s.Td,null,o.default.createElement(u.Flex,(0,r.default)({justifyContent:"flex-end"},f.stopPropagation),m.map((function(e,t){return e?o.default.createElement(i.Box,{key:e.label,paddingLeft:0===t?0:1},o.default.createElement(c.IconButton,{onClick:e.onClick,label:e.label,noBorder:!0,icon:e.icon})):null})))))};m.propTypes={id:l.default.number.isRequired,name:l.default.string.isRequired,description:l.default.string.isRequired,usersCount:l.default.number.isRequired,icons:l.default.array.isRequired};var g=m;t.default=g},54463:(e,t,a)=>{var n=a(95318),r=a(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(63038)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),i=n(a(63852)),u=a(68547),s=n(a(89326)),d=n(a(62982)),c=n(a(56204)),f=n(a(54279)),p=a(64459),m=a(35395),g=a(43546),b=a(33483),y=a(80117),v=a(19631),h=a(97132),O=a(39711),C=n(a(62799)),E=n(a(6648)),j=n(a(78924)),w=a(63376);function P(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(P=function(e){return e?a:t})(e)}var k=function(){var e=(0,h.useIntl)().formatMessage;(0,u.useFocusWhenNavigate)();var t=function(){var e=(0,w.useRolesList)(),t=e.roles,a=e.isLoading,n=(0,u.useQuery)(),r=decodeURIComponent(n.get("_q")||"");return{isLoading:a,sortedRoles:(0,i.default)(t,r,{keys:["name","description"]})}}(),a=t.sortedRoles,n=t.isLoading,r=function(){var e=(0,h.useIntl)().formatMessage,t=(0,l.useState)(!1),a=(0,o.default)(t,2),n=a[0],r=a[1],i=(0,u.useTracking)().trackUsage,s=(0,O.useHistory)().push,p=(0,l.useCallback)((function(e){s("/settings/roles/".concat(e))}),[s]),m=(0,l.useCallback)((function(){r((function(e){return!e}))}),[]),g=(0,l.useCallback)((function(){i("didShowRBACUpgradeModal"),r(!0)}),[i]),b=(0,l.useCallback)((function(t){return[{onClick:m,label:e({id:"app.utils.duplicate",defaultMessage:"Duplicate"}),icon:l.default.createElement(f.default,null)},{onClick:function(){return p(t.id)},label:e({id:"app.utils.edit",defaultMessage:"Edit"}),icon:l.default.createElement(c.default,null)},{onClick:m,label:e({id:"global.delete",defaultMessage:"Delete"}),icon:l.default.createElement(d.default,null)}]}),[e,m,p]);return{isModalOpen:n,handleToggleModalForCreatingRole:g,handleToggle:m,getIcons:b}}(),P=r.isModalOpen,k=r.handleToggle,M=r.handleToggleModalForCreatingRole,_=r.getIcons,D=a.length+1;return l.default.createElement(y.Main,null,l.default.createElement(u.SettingsPageTitle,{name:"Roles"}),l.default.createElement(m.HeaderLayout,{primaryAction:l.default.createElement(p.Button,{onClick:M,startIcon:l.default.createElement(s.default,null),size:"L"},e({id:"Settings.roles.list.button.add",defaultMessage:"Add new role"})),title:e({id:"global.roles",defaultMessage:"roles"}),subtitle:e({id:"Settings.roles.list.description",defaultMessage:"List of roles"})}),l.default.createElement(m.ContentLayout,null,l.default.createElement(g.Table,{colCount:5,rowCount:D,footer:l.default.createElement(g.TFooter,{onClick:M,icon:l.default.createElement(s.default,null)},e({id:"Settings.roles.list.button.add",defaultMessage:"Add new role"}))},l.default.createElement(g.Thead,null,l.default.createElement(g.Tr,null,l.default.createElement(g.Th,null,l.default.createElement(b.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"global.name",defaultMessage:"Name"}))),l.default.createElement(g.Th,null,l.default.createElement(b.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"global.description",defaultMessage:"Description"}))),l.default.createElement(g.Th,null,l.default.createElement(b.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"global.users",defaultMessage:"Users"}))),l.default.createElement(g.Th,null,l.default.createElement(v.VisuallyHidden,null,e({id:"global.actions",defaultMessage:"Actions"}))))),l.default.createElement(g.Tbody,null,null===a||void 0===a?void 0:a.map((function(e){return l.default.createElement(C.default,{key:e.id,id:e.id,name:e.name,description:e.description,usersCount:e.usersCount,icons:_(e)})})))),!D&&!n&&l.default.createElement(E.default,null)),l.default.createElement(j.default,{isOpen:P,onClose:k}))};t.default=k},19160:(e,t,a)=>{var n=a(95318);t.Z=void 0;var r=n(a(53547)),o=a(68547),l=n(a(13240)),i=n(a(54463)),u=function(){return r.default.createElement(o.CheckPagePermissions,{permissions:l.default.settings.roles.main},r.default.createElement(i.default,null))};t.Z=u},21609:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(94654)),o=a(26595),l=function(e){return(0,r.default)(e,(function(e){return e.links})).map((function(e){return(0,o.createRoute)(e.Component,e.to,e.exact||!1)}))};t.default=l},2971:(e,t)=>{t.Z=void 0;var a=[];t.Z=a},1514:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(87757)),o=n(a(48926)),l=window&&window.strapi&&window.strapi.isEE?a(58556).ZP:a(7126).Z,i=window&&window.strapi&&window.strapi.isEE?a(96734).Z:a(19160).Z,u=[{Component:function(){return{default:i}},to:"/settings/roles",exact:!0},{Component:function(){return{default:l}},to:"/settings/roles/duplicate/:id",exact:!0},{Component:function(){return{default:l}},to:"/settings/roles/new",exact:!0},{Component:function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.e(2544).then(a.bind(a,19144));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/roles/:id",exact:!0},{Component:function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.e(5199).then(a.bind(a,42222));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/users",exact:!0},{Component:function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.e(4263).then(a.bind(a,20262));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/users/:id",exact:!0},{Component:function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([a.e(8252),a.e(5162)]).then(a.bind(a,39616));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/webhooks/create",exact:!0},{Component:function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([a.e(8252),a.e(5162)]).then(a.bind(a,56454));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/webhooks/:id",exact:!0},{Component:function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.e(4121).then(a.bind(a,94859));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/webhooks",exact:!0},{Component:function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.e(8056).then(a.bind(a,76796));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/api-tokens",exact:!0},{Component:function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.e(4299).then(a.bind(a,3441));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/api-tokens/create",exact:!0},{Component:function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.e(92).then(a.bind(a,70593));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/api-tokens/:id",exact:!0}];t.default=u},56147:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e.filter((function(e){return!e.links.every((function(e){return!1===e.isDisplayed}))}))};t.default=a},77040:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createSectionsRoutes",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"getSectionsToDisplay",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"routes",{enumerable:!0,get:function(){return l.default}});var r=n(a(21609)),o=n(a(56147)),l=n(a(53197))},53197:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(319)),o=n(a(1514)),l=window&&window.strapi&&window.strapi.isEE?a(5007).Z:a(2971).Z,i=[].concat((0,r.default)(l),(0,r.default)(o.default));t.default=i},58556:(e,t,a)=>{var n=a(25108),r=a(95318),o=a(50008);t.ZP=void 0;var l=r(a(87757)),i=r(a(48926)),u=r(a(63038)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!==typeof e)return{default:e};var a=A(t);if(a&&a.has(e))return a.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=r?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}n.default=e,a&&a.set(e,n);return n}(a(53547)),d=r(a(30381)),c=a(68547),f=a(94117),p=a(64459),m=a(35395),g=a(39272),b=a(80117),y=a(56156),v=a(40264),h=a(9524),O=a(33483),C=a(99136),E=a(78607),j=r(a(87760)),w=a(80831),P=r(a(27361)),k=r(a(41609)),M=a(97132),_=a(39711),D=r(a(78384)),x=r(a(74716)),T=a(63376),S=r(a(13240)),R=r(a(21251));function A(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(A=function(e){return e?a:t})(e)}var I=D.default.div.withConfig({displayName:"CreatePage__UsersRoleNumber",componentId:"sc-f7k9id-0"})(["border:1px solid ",";background:",";padding:",";color:",";border-radius:",";font-size:","rem;font-width:bold;"],(function(e){return e.theme.colors.primary200}),(function(e){return e.theme.colors.primary100}),(function(e){var t=e.theme;return"".concat(t.spaces[2]," ").concat(t.spaces[4])}),(function(e){return e.theme.colors.primary600}),(function(e){return e.theme.borderRadius}),.75),F=function(){var e=(0,c.useNotification)(),t=(0,c.useOverlayBlocker)(),a=t.lockApp,r=t.unlockApp,o=(0,M.useIntl)().formatMessage,D=(0,s.useState)(!1),S=(0,u.default)(D,2),A=S[0],F=S[1],q=(0,_.useHistory)().replace,N=(0,s.useRef)(),L=(0,c.useTracking)().trackUsage,W=(0,_.useRouteMatch)("/settings/roles/duplicate/:id"),B=(0,P.default)(W,"params.id",null),Z=(0,T.useFetchPermissionsLayout)(),G=Z.isLoading,H=Z.data,U=(0,T.useFetchRole)(B),V=U.permissions,z=U.isLoading,K="".concat(o({id:"Settings.roles.form.created",defaultMessage:"Created"})," ").concat((0,d.default)().format("LL"));return s.default.createElement(b.Main,null,s.default.createElement(c.SettingsPageTitle,{name:"Roles"}),s.default.createElement(w.Formik,{initialValues:{name:"",description:K},onSubmit:function(t){a(),F(!0),L(B?"willDuplicateRole":"willCreateNewRole"),Promise.resolve((0,c.request)("/admin/roles",{method:"POST",body:t})).then(function(){var e=(0,i.default)(l.default.mark((function e(t){var a,n;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=N.current.getPermissions(),n=a.permissionsToSend,L(B?"didDuplicateRole":"didCreateNewRole"),!t.data.id||(0,k.default)(n)){e.next=5;break}return e.next=5,(0,c.request)("/admin/roles/".concat(t.data.id,"/permissions"),{method:"PUT",body:{permissions:n}});case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(t){F(!1),e({type:"success",message:{id:"Settings.roles.created",defaultMessage:"created"}}),q("/settings/roles/".concat(t.data.id))})).catch((function(t){n.error(t),F(!1),e({type:"warning",message:{id:"notification.error"}})})).finally((function(){r()}))},validationSchema:R.default,validateOnChange:!1},(function(e){var t=e.handleSubmit,a=e.values,n=e.errors,r=e.handleReset,l=e.handleChange;return s.default.createElement(c.Form,{noValidate:!0},s.default.createElement(s.default.Fragment,null,s.default.createElement(m.HeaderLayout,{primaryAction:s.default.createElement(h.Stack,{horizontal:!0,spacing:2},s.default.createElement(p.Button,{variant:"secondary",onClick:function(){r(),N.current.resetForm()},size:"L"},o({id:"app.components.Button.reset",defaultMessage:"Reset"})),s.default.createElement(p.Button,{onClick:t,loading:A,size:"L"},o({id:"global.save",defaultMessage:"Save"}))),title:o({id:"Settings.roles.create.title",defaultMessage:"Create a role"}),subtitle:o({id:"Settings.roles.create.description",defaultMessage:"Define the rights given to the role"}),navigationAction:s.default.createElement(y.Link,{startIcon:s.default.createElement(j.default,null),to:"/settings/roles"},o({id:"global.back",defaultMessage:"Back"}))}),s.default.createElement(m.ContentLayout,null,s.default.createElement(h.Stack,{spacing:6},s.default.createElement(f.Box,{background:"neutral0",padding:6,shadow:"filterShadow",hasRadius:!0},s.default.createElement(h.Stack,{spacing:4},s.default.createElement(v.Flex,{justifyContent:"space-between"},s.default.createElement(f.Box,null,s.default.createElement(f.Box,null,s.default.createElement(O.Typography,{fontWeight:"bold"},o({id:"global.details",defaultMessage:"Details"}))),s.default.createElement(f.Box,null,s.default.createElement(O.Typography,{variant:"pi",textColor:"neutral600"},o({id:"Settings.roles.form.description",defaultMessage:"Name and description of the role"})))),s.default.createElement(I,null,o({id:"Settings.roles.form.button.users-with-role",defaultMessage:"{number, plural, =0 {# users} one {# user} other {# users}} with this role"},{number:0}))),s.default.createElement(g.Grid,{gap:4},s.default.createElement(g.GridItem,{col:6},s.default.createElement(C.TextInput,{name:"name",error:n.name&&o({id:n.name}),label:o({id:"global.name",defaultMessage:"Name"}),onChange:l,value:a.name})),s.default.createElement(g.GridItem,{col:6},s.default.createElement(E.Textarea,{label:o({id:"global.description",defaultMessage:"Description"}),name:"description",error:n.description&&o({id:n.description}),onChange:l},a.description))))),G||z?s.default.createElement(f.Box,{background:"neutral0",padding:6,shadow:"filterShadow",hasRadius:!0},s.default.createElement(c.LoadingIndicatorPage,null)):s.default.createElement(f.Box,{shadow:"filterShadow",hasRadius:!0},s.default.createElement(x.default,{isFormDisabled:!1,ref:N,permissions:V,layout:H}))))))})))};t.ZP=function(){return s.default.createElement(c.CheckPagePermissions,{permissions:S.default.settings.roles.create},s.default.createElement(F,null))}},21251:(e,t,a)=>{var n=a(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=e[i]}r.default=e,a&&a.set(e,r);return r}(a(53209)),o=a(68547);function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}var i=r.object().shape({name:r.string().required(o.translatedErrors.required),description:r.string().required(o.translatedErrors.required)});t.default=i},6561:(e,t)=>{t.Z=void 0;t.Z=false},11720:(e,t)=>{t.Z=void 0;t.Z=false},48535:(e,t)=>{t.Z=void 0;t.Z=false},38706:(e,t)=>{t.Z=void 0;t.Z=false},70398:(e,t)=>{t.Z=void 0;t.Z=false},42391:(e,t)=>{t.Z=void 0;t.Z=false},33608:(e,t,a)=>{var n=a(95318),r=a(50008);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(87757)),l=n(a(319)),i=n(a(48926)),u=n(a(63038)),s=S(a(53547)),d=a(68547),c=n(a(89326)),f=n(a(62982)),p=n(a(54279)),m=n(a(56204)),g=a(64459),b=a(35395),y=a(19631),v=a(80117),h=a(43546),O=a(33483),C=a(96486),E=n(a(63852)),j=a(97132),w=a(39711),P=a(53777),k=a(63376),M=n(a(13240)),_=n(a(6648)),D=n(a(62799)),x=S(a(12717));function T(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(T=function(e){return e?a:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var a=T(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}return n.default=e,a&&a.set(e,n),n}var R=function(){var e=(0,j.useIntl)().formatMessage,t=function(){(0,d.useFocusWhenNavigate)();var e=(0,d.useRBAC)(M.default.settings.roles),t=e.isLoading,a=e.allowedActions,n=a.canCreate,r=a.canDelete,o=a.canRead,l=a.canUpdate,i=(0,k.useRolesList)(!1),c=i.getData,f=i.roles,p=i.isLoading,m=(0,d.useQueryParams)(),g=(0,u.default)(m,1)[0].query,b=(null===g||void 0===g?void 0:g._q)||"",y=(0,E.default)(f,b,{keys:["name","description"]});return(0,s.useEffect)((function(){!t&&o&&c()}),[t,o,c]),{isLoadingForPermissions:t,canCreate:n,canDelete:r,canRead:o,canUpdate:l,isLoading:p,getData:c,sortedRoles:y,roles:f}}(),a=t.isLoadingForPermissions,n=t.canCreate,r=t.canRead,T=t.canDelete,S=t.canUpdate,R=t.isLoading,A=t.getData,I=t.sortedRoles,F=function(e){var t=e.getData,a=e.canCreate,n=e.canDelete,r=e.canUpdate,c=(0,j.useIntl)().formatMessage,g=(0,d.useNotification)(),b=(0,s.useState)(!1),y=(0,u.default)(b,2),v=y[0],h=y[1],O=(0,w.useHistory)().push,E=(0,s.useReducer)(x.default,x.initialState),k=(0,u.default)(E,2),M=k[0],_=M.selectedRoles,D=M.showModalConfirmButtonLoading,T=M.roleToDelete,S=k[1],R=function(){var e=(0,i.default)(o.default.mark((function e(){var a,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S({type:"ON_REMOVE_ROLES"}),e.next=4,P.axiosInstance.post("/admin/roles/batch-delete",{ids:[T]});case 4:return e.next=6,t();case 6:S({type:"RESET_DATA_TO_DELETE"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),(a=(0,C.get)(e.t0,["response","payload","data","ids"],null))&&Array.isArray(a)?(n=a.join("\n"),g({type:"warning",message:n})):g({type:"warning",message:{id:"notification.error"}});case 13:F();case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),A=(0,s.useCallback)((function(e){O("/settings/roles/duplicate/".concat(e))}),[O]),I=(0,s.useCallback)((function(e){S({type:"SET_ROLE_TO_DELETE",id:e}),F()}),[]),F=function(){return h((function(e){return!e}))},q=(0,s.useCallback)((function(e){O("/settings/roles/".concat(e))}),[O]),N=(0,s.useCallback)((function(e,t){e.preventDefault(),e.stopPropagation(),t.usersCount?g({type:"info",message:{id:"Roles.ListPage.notification.delete-not-allowed"}}):I(t.id)}),[g,I]),L=(0,s.useCallback)((function(e,t){e.preventDefault(),e.stopPropagation(),A(t.id)}),[A]);return{handleNewRoleClick:function(){return O("/settings/roles/new")},getIcons:(0,s.useCallback)((function(e){return[].concat((0,l.default)(a?[{onClick:function(t){return L(t,e)},label:c({id:"app.utils.duplicate",defaultMessage:"Duplicate"}),icon:s.default.createElement(p.default,null)}]:[]),(0,l.default)(r?[{onClick:function(){return q(e.id)},label:c({id:"app.utils.edit",defaultMessage:"Edit"}),icon:s.default.createElement(m.default,null)}]:[]),(0,l.default)(n?[{onClick:function(t){return N(t,e)},label:c({id:"global.delete",defaultMessage:"Delete"}),icon:s.default.createElement(f.default,null)}]:[]))}),[c,N,L,q,a,r,n]),selectedRoles:_,isWarningDeleteAllOpened:v,showModalConfirmButtonLoading:D,handleToggleModal:F,handleDeleteData:R}}({getData:A,canCreate:n,canDelete:T,canUpdate:S}),q=F.handleNewRoleClick,N=F.getIcons,L=F.isWarningDeleteAllOpened,W=F.showModalConfirmButtonLoading,B=F.handleToggleModal,Z=F.handleDeleteData,G=I.length+1;if(a)return s.default.createElement(v.Main,null,s.default.createElement(d.LoadingIndicatorPage,null));var H=e({id:"global.roles",defaultMessage:"roles"});return s.default.createElement(v.Main,null,s.default.createElement(d.SettingsPageTitle,{name:"Roles"}),s.default.createElement(b.HeaderLayout,{primaryAction:n?s.default.createElement(g.Button,{onClick:q,startIcon:s.default.createElement(c.default,null),size:"L"},e({id:"Settings.roles.list.button.add",defaultMessage:"Add new role"})):null,title:H,subtitle:e({id:"Settings.roles.list.description",defaultMessage:"List of roles"}),as:"h2"}),r&&s.default.createElement(b.ActionLayout,{startActions:s.default.createElement(d.SearchURLQuery,{label:e({id:"app.component.search.label",defaultMessage:"Search for {target}"},{target:H})})}),r&&s.default.createElement(b.ContentLayout,null,s.default.createElement(h.Table,{colCount:6,rowCount:G,footer:n?s.default.createElement(h.TFooter,{onClick:q,icon:s.default.createElement(c.default,null)},e({id:"Settings.roles.list.button.add",defaultMessage:"Add new role"})):null},s.default.createElement(h.Thead,null,s.default.createElement(h.Tr,null,s.default.createElement(h.Th,null,s.default.createElement(O.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"global.name",defaultMessage:"Name"}))),s.default.createElement(h.Th,null,s.default.createElement(O.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"global.description",defaultMessage:"Description"}))),s.default.createElement(h.Th,null,s.default.createElement(O.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"global.users",defaultMessage:"Users"}))),s.default.createElement(h.Th,null,s.default.createElement(y.VisuallyHidden,null,e({id:"global.actions",defaultMessage:"Actions"}))))),s.default.createElement(h.Tbody,null,null===I||void 0===I?void 0:I.map((function(e){return s.default.createElement(D.default,{key:e.id,id:e.id,name:e.name,description:e.description,usersCount:e.usersCount,icons:N(e)})})))),!G&&!R&&s.default.createElement(_.default,null)),s.default.createElement(d.ConfirmDialog,{isOpen:L,onConfirm:Z,isConfirmButtonLoading:W,onToggleDialog:B}))};t.default=R},12717:(e,t,a)=>{var n=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var r=n(a(66312));t.initialState={roleToDelete:null,showModalConfirmButtonLoading:!1,shouldRefetchData:!1};var o=function(e,t){return(0,r.default)(e,(function(e){switch(t.type){case"ON_REMOVE_ROLES":e.showModalConfirmButtonLoading=!0;break;case"ON_REMOVE_ROLES_SUCCEEDED":e.shouldRefetchData=!0,e.roleToDelete=null;break;case"RESET_DATA_TO_DELETE":e.shouldRefetchData=!1,e.roleToDelete=null,e.showModalConfirmButtonLoading=!1;break;case"SET_ROLE_TO_DELETE":e.roleToDelete=t.id;break;default:return e}}))};t.default=o},96734:(e,t,a)=>{var n=a(95318);t.Z=void 0;var r=n(a(53547)),o=a(68547),l=n(a(13240)),i=n(a(33608)),u=function(){return r.default.createElement(o.CheckPagePermissions,{permissions:l.default.settings.roles.main},r.default.createElement(i.default,null))};t.Z=u},5007:(e,t,a)=>{var n=a(95318);t.Z=void 0;var r=n(a(87757)),o=n(a(48926)),l=strapi.features.isEnabled(strapi.features.SSO)?[{Component:function(){var e=(0,o.default)(r.default.mark((function e(){var t;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.e(302).then(a.bind(a,66554));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),to:"/settings/single-sign-on",exact:!0}]:[],i=[].concat(l);t.Z=i},12285:(e,t,a)=>{e.exports=a.p+"c3de6118ef47086ad05c.png"},31652:(e,t,a)=>{e.exports=a.p+"bd81ba6c07827282255d.png"}}]);